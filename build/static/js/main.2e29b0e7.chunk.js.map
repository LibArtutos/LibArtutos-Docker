{"version":3,"sources":["components/AccountMenu/index.js","App.js","functions/clear.js","pages/Browse/index.js","components/BrowseMenu/index.js","components/DownloadMenu/index.js","components/Carousel/index.js","pages/CategoryBrowse/index.js","components/ChildrenMenu/index.js","components/Footer/index.js","pages/Genres/index.js","functions/guid.js","pages/Login/index.js","components/Logout/index.js","components/Nav/NavUI.js","components/Nav/index.js","pages/NotFound/index.js","components/NewsMenu/index.js","components/PageMenu/index.js","components/PlayerMenu/index.js","components/PlaylistMenu/index.js","pages/Search/index.js","functions/seo.js","theme.js","pages/Settings/index.js","pages/SettingsLogin/index.js","components/SortMenu/index.js","components/StarDialog/index.js","pages/StarredLists/index.js","components/ThemeMenu/index.js","components/Tile/index.js","components/TrailerDialog/index.js","pages/View/MovieView/index.js","pages/View/TVView/index.js","pages/View/index.js","index.js"],"names":["AccountMenu","props","state","menuAnchor","handleClick","bind","handleClose","evt","this","setState","currentTarget","accounts","ui_config","pic","includes","src","width","alt","className","IconButton","onClick","Menu","id","anchorEl","anchorOrigin","vertical","horizontal","transformOrigin","keepMounted","open","Boolean","onClose","custom_button","text","Divider","href","url","target","MenuItem","to","Component","App","auth","window","sessionStorage","getItem","localStorage","server","setItem","version","caches","keys","then","names","forEach","name","delete","location","reload","guid","Browse","isLoaded","metadata","origin","starred_lists","JSON","parse","history","push","req_path","req_args","range","axios","get","response","data","content","i","length","categoryInfo","pinned","unshift","catch","error","console","code","Swal","fire","title","message","icon","confirmButtonText","confirmButtonColor","theme","palette","success","main","result","isConfirmed","cancelButtonText","cancelButtonColor","showCancelButton","isDismissed","request","CircularProgress","BrowseMenu","categories","style","marginRight","Button","map","category","DownloadMenu","handleSeason","preventDefault","n","children","encodeURIComponent","videos","variant","color","startIcon","source","encodeURI","tv","Carousel","currentEditing","hide","isAndroid","test","navigator","userAgent","vendor","opera","isIOS","MSStream","isEditOpen","star","handleStar","handleStarReset","handleStarImport","handleStarExport","handlePin","handleEditOpen","handleEditClose","handleEditDrop","handleEditSave","handleScroll","item","index1","findIndex","index2","index3","index4","splice","stringify","shift","files","file","reader","FileReader","onload","evtR","starred_list","parseInt","replace","type","readAsText","Blob","link","document","createElement","URL","createObjectURL","download","Date","click","pin","removedIndex","addedIndex","items","arrayMoveImmutable","offset","getElementsByClassName","scrollLeft","paddingTop","p","margin","display","alignItems","justifyContent","float","Tooltip","placement","marginLeft","hidden","onChange","htmlFor","xmlns","enableBackground","height","viewBox","fill","primary","d","fillRule","posterPath","Typography","padding","Dialog","fullWidth","maxWidth","DialogTitle","List","dragHandleSelector","lockAxis","onDrop","ListItem","divider","ListItemText","ListItemSecondaryAction","ListItemIcon","flexShrink","fontSize","CategoryBrowse","match","params","genre","queryString","search","page","undefined","sort","scrollTo","pages","Math","ceil","seo","description","ChildrenMenu","child","Footer","classes","footer__container","withStyles","withTheme","_p8","s","random","toString","substr","Login","password","signup","username","handleTempServerChange","handlePassChange","handleUserChange","handleServerSubmit","handleSubmit","handleSignup","dismissError","startsWith","value","Container","component","CssBaseline","paper","Avatar","avatar","form","onSubmit","noValidate","TextField","required","label","autoComplete","autoFocus","disabled","submit","textAlign","marginTop","spacing","flexDirection","backgroundColor","secondary","Logout","clear","setTimeout","NavUI","searchChange","searchSubmit","onMouseOver","onMouseOut","pathname","key","query","grow","AppBar","position","root","Toolbar","icon_on_nav","noWrap","searchIcon","InputBase","placeholder","inputRoot","input","inputInput","inputProps","background","default","flexGrow","breakpoints","up","borderRadius","shape","alpha","common","zIndex","paddingLeft","transition","transitions","create","Nav","account_list","category_list","NotFound","PageMenu","Pagination","count","size","innerWidth","renderItem","PaginationItem","PlayerMenu","mobileUrl","streamURL","scheme","protocol","slice","hash","mimeType","host","port","clipboard","writeText","PlaylistMenu","m3u8","element","setAttribute","body","appendChild","removeChild","Search","q","image","querySelector","customTheme","Settings","secret","handleChange","handleRestart","handleKillSwitch","handleRebuild","handleFileBrowser","navProps","config","tempSecret","secret_key","post","removeItem","kill_switch","checked","status","multiline","minRows","maxRows","Form","marginBotoom","Switch","SettingsLoginForm","handleSecretChange","SortMenu","formatSort","str","str_split","split","charAt","toUpperCase","substring","join","FormControl","InputLabel","Select","labelId","StarDialog","isCreateOpen","handleCreateClose","handleCreateChange","handleCreateSubmit","handleListItemClick","createValue","isOpen","button","ListItemAvatar","some","x","DialogContent","DialogContentText","DialogActions","StarredLists","lightTheme","createTheme","warning","darkTheme","draculaTheme","nordTheme","custom_theme","ThemeMenu","handleTheme","Tile","trailer","frameBorder","allow","allowFullScreen","MovieView","subtitleMenuAnchor","tooltipOpen","tooltipOpen2","onFileChange","prettyDate","handleStarClose","handleTrailer","handleTrailerClose","handleSubtitleMenuOpen","handleSubtitleMenuClose","year","getFullYear","overview","backdropPath","a","endsWith","toWebVTT","vtt","fileName","playerKey","date_comp","releaseDate","toDateString","openStarDialog","starred","apiId","api","openTrailerDialog","tracks","getElementById","default_track","default_video","borderWidth","borderColor","borderStyle","options","video","quality","defaultQuality","subtitle","preload","contextmenu","screenshot","volume","lang","ClickAwayListener","onClickAway","arrow","disableFocusListener","disableHoverListener","disableTouchListener","PopperProps","disablePortal","fontWeight","voteAverage","Rating","max","readOnly","language","accept","track","adult","Chip","genres","TVBView","TVSView","handleClickImage","handleCloseDialog","handleParentSeason","watching","image_url","next","parent_index","parent_children","isHash","onError","e","justifySelf","alignContent","flexWrap","View","documentElement","setProperty","response1","parents","response2","subtitles","ReactDOM","render","ThemeProvider","exact","path","SettingsLogin"],"mappings":"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","file":"static/js/main.2e29b0e7.chunk.js","sourcesContent":["import React, {Component} from \"react\";\r\n\r\nimport {Link} from \"react-router-dom\";\r\n\r\nimport {Divider, IconButton, Menu, MenuItem} from \"@material-ui/core\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\n\r\nimport \"@sweetalert2/theme-dark/dark.css\";\r\n\r\nexport default class AccountMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      menuAnchor: false,\r\n    };\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n  }\r\n\r\n  handleClick(evt) {\r\n    this.setState({\r\n      menuAnchor: evt.currentTarget,\r\n    });\r\n  }\r\n\r\n  handleClose(evt) {\r\n    this.setState({\r\n      menuAnchor: false,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let { accounts, ui_config } = this.props;\r\n\r\n    let pic = <AccountCircle />;\r\n    if (\r\n      accounts &&\r\n      accounts.pic &&\r\n      (accounts.pic.includes(\"http\") || accounts.pic.includes(\"www\"))\r\n    ) {\r\n      pic = <img src={accounts.pic} width=\"32px\" alt=\"profile-pic\"></img>;\r\n    }\r\n\r\n    return (\r\n      <div className=\"AccountMenu\">\r\n        <IconButton\r\n          aria-label=\"more\"\r\n          aria-controls=\"account-menu\"\r\n          aria-haspopup=\"true\"\r\n          onClick={this.handleClick}\r\n        >\r\n          {pic}\r\n        </IconButton>\r\n        <Menu\r\n          id=\"account-menu\"\r\n          anchorEl={this.state.menuAnchor}\r\n          anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n          transformOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n          keepMounted\r\n          open={Boolean(this.state.menuAnchor)}\r\n          onClose={this.handleClose}\r\n        >\r\n          {(ui_config.custom_button || {}).text ? (\r\n            <div>\r\n              <Divider />\r\n              <a\r\n                href={ui_config.custom_button.url}\r\n                target=\"__blank\"\r\n                className=\"no_decoration_link\"\r\n              >\r\n                <MenuItem onClick={this.handleClose}>\r\n                  {ui_config.custom_button.text}\r\n                </MenuItem>\r\n              </a>\r\n            </div>\r\n          ) : null}\r\n          <Link to={\"/settings\"} className=\"no_decoration_link\">\r\n            <MenuItem onClick={this.handleClose}>Settings</MenuItem>\r\n          </Link>\r\n          <Link to={\"/logout\"} className=\"no_decoration_link\">\r\n            <MenuItem onClick={this.handleClose}>Logout</MenuItem>\r\n          </Link>\r\n        </Menu>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from \"react\";\r\n\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nimport {clear, guid, version} from \"./components\";\r\n\r\nexport default class App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      auth:\r\n        window.sessionStorage.getItem(\"auth\") ||\r\n        window.localStorage.getItem(\"auth\"),\r\n      server:\r\n        window.sessionStorage.getItem(\"server\") ||\r\n        window.localStorage.getItem(\"server\"),\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (!window.localStorage.getItem(\"_VERSION\")) {\r\n      window.localStorage.setItem(\"_VERSION\", version);\r\n    }\r\n    if (window.localStorage.getItem(\"_VERSION\") !== version) {\r\n      clear();\r\n      window.localStorage.setItem(\"_VERSION\", version);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { auth, server } = this.state;\r\n\r\n    return auth && server ? (\r\n      <Redirect to=\"/browse\" key={guid()} />\r\n    ) : (\r\n      <Redirect to=\"/login\" key={guid()} />\r\n    );\r\n  }\r\n}\r\n","export default function clear() {\r\n  if (\"caches\" in window) {\r\n    caches.keys().then((names) => {\r\n      names.forEach((name) => {\r\n        caches.delete(name);\r\n      });\r\n    });\r\n    window.location.reload(true);\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport { CircularProgress } from \"@material-ui/core\";\r\n\r\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\r\nimport \"@sweetalert2/theme-dark/dark.css\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport { Carousel, Footer, Nav, theme } from \"../../components\";\r\n\r\nexport default class Browse extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      auth:\r\n          window.sessionStorage.getItem(\"auth\") ||\r\n          window.localStorage.getItem(\"auth\") ||\r\n          \"0\",\r\n      isLoaded: false,\r\n      metadata: {},\r\n      server:\r\n          window.sessionStorage.getItem(\"server\") ||\r\n          window.localStorage.getItem(\"server\") ||\r\n          window.location.origin,\r\n      starred_lists: JSON.parse(\r\n          window.localStorage.getItem(\"starred_lists\") || \"[]\"\r\n      ),\r\n      ui_config: JSON.parse(\r\n          window.localStorage.getItem(\"ui_config\") ||\r\n          window.sessionStorage.getItem(\"ui_config\") ||\r\n          \"{}\"\r\n      ),\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    let { auth, server, starred_lists, ui_config } = this.state;\r\n\r\n    if (!auth || !server) {\r\n      this.props.history.push(\"/logout\");\r\n    }\r\n\r\n    let req_path = `${server}/api/v1/metadata`;\r\n    let req_args = `?a=${auth}&r=0:${\r\n        ui_config.range || \"16\"\r\n    }&s=popularity-des&rmdup=true`;\r\n\r\n    axios\r\n        .get(req_path + req_args)\r\n        .then((response) => {\r\n          let metadata = response.data.content;\r\n          for (let i = starred_lists.length - 1; i >= 0; i--) {\r\n            if (starred_lists[i].categoryInfo.pinned) {\r\n              metadata.unshift(starred_lists[i]);\r\n            }\r\n          }\r\n          this.setState({\r\n            isLoaded: true,\r\n            metadata: metadata,\r\n          });\r\n        })\r\n        .catch((error) => {\r\n          console.error(error);\r\n          if (error.response) {\r\n            let data = error.response.data;\r\n            if (data.code === 401) {\r\n              Swal.fire({\r\n                title: \"Error!\",\r\n                text: data.message,\r\n                icon: \"error\",\r\n                confirmButtonText: \"Login\",\r\n                confirmButtonColor: theme.palette.success.main,\r\n              }).then((result) => {\r\n                if (result.isConfirmed) {\r\n                  this.props.history.push(\"/logout\");\r\n                }\r\n              });\r\n            } else if (!server) {\r\n              this.props.history.push(\"/logout\");\r\n            } else {\r\n              Swal.fire({\r\n                title: \"Error!\",\r\n                text: data.message,\r\n                icon: \"error\",\r\n                confirmButtonText: \"Logout\",\r\n                confirmButtonColor: theme.palette.success.main,\r\n                cancelButtonText: \"Retry\",\r\n                cancelButtonColor: theme.palette.error.main,\r\n                showCancelButton: true,\r\n              }).then((result) => {\r\n                if (result.isConfirmed) {\r\n                  this.props.history.push(\"/logout\");\r\n                } else if (result.isDismissed) {\r\n                  location.reload();\r\n                }\r\n              });\r\n            }\r\n          } else if (error.request) {\r\n            if (!server) {\r\n              this.props.history.push(\"/logout\");\r\n            } else {\r\n              Swal.fire({\r\n                title: \"Error!\",\r\n                text: `libDrive could not communicate with the server! Is '${server}' the correct address?`,\r\n                icon: \"error\",\r\n                confirmButtonText: \"Logout\",\r\n                confirmButtonColor: theme.palette.success.main,\r\n                cancelButtonText: \"Retry\",\r\n                cancelButtonColor: theme.palette.error.main,\r\n                showCancelButton: true,\r\n              }).then((result) => {\r\n                if (result.isConfirmed) {\r\n                  this.props.history.push(\"/logout\");\r\n                } else if (result.isDismissed) {\r\n                  location.reload();\r\n                }\r\n              });\r\n            }\r\n          }\r\n        });\r\n  }\r\n\r\n  render() {\r\n    let { isLoaded, metadata } = this.state;\r\n\r\n    return isLoaded ? (\r\n        <div className=\"Browse\">\r\n          <Nav {...this.props} />\r\n          <Carousel metadata={metadata} />\r\n          <Footer />\r\n        </div>\r\n    ) : (\r\n        <div className=\"Loading\">\r\n          <CircularProgress />\r\n        </div>\r\n    );\r\n  }\r\n}","import React, {Component} from \"react\";\r\n\r\nimport {Link} from \"react-router-dom\";\r\n\r\nimport {Button, Divider, Menu, MenuItem} from \"@material-ui/core\";\r\n\r\nimport {guid} from \"../../components\";\r\n\r\nexport default class BrowseMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      menuAnchor: false,\r\n    };\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n  }\r\n\r\n  handleClick(evt) {\r\n    this.setState({\r\n      menuAnchor: evt.currentTarget,\r\n    });\r\n  }\r\n\r\n  handleClose(evt) {\r\n    this.setState({\r\n      menuAnchor: false,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let { categories } = this.props;\r\n    let starred_lists = JSON.parse(\r\n      window.localStorage.getItem(\"starred_lists\") || \"[]\"\r\n    );\r\n\r\n    return (\r\n      <div className=\"Browse\" style={{ marginRight: \"15px\" }}>\r\n        <Button\r\n          aria-controls=\"browse-menu\"\r\n          aria-haspopup=\"true\"\r\n          onClick={this.handleClick}\r\n        >\r\n          Browse\r\n        </Button>\r\n        <Menu\r\n          id=\"browse-menu\"\r\n          anchorEl={this.state.menuAnchor}\r\n          keepMounted\r\n          anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n          transformOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n          open={Boolean(this.state.menuAnchor)}\r\n          onClose={this.handleClose}\r\n        >\r\n          <Link to={\"/\"} className=\"no_decoration_link\">\r\n            <MenuItem onClick={this.handleClose}>Home Page</MenuItem>\r\n          </Link>\r\n          <Divider />\r\n          {categories.length\r\n            ? categories.map((category) => (\r\n                <Link\r\n                  to={`/browse/${category.name}`}\r\n                  key={guid()}\r\n                  className=\"no_decoration_link\"\r\n                >\r\n                  <MenuItem onClick={this.handleClose}>\r\n                    {category.name}\r\n                  </MenuItem>\r\n                </Link>\r\n              ))\r\n            : null}\r\n          {starred_lists.length ? (\r\n            <div>\r\n              <Divider />\r\n              <Link to={\"/starred\"} className=\"no_decoration_link\">\r\n                <MenuItem onClick={this.handleClose}>Starred Lists</MenuItem>\r\n              </Link>\r\n            </div>\r\n          ) : null}\r\n        </Menu>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from \"react\";\r\n\r\nimport {Button, Divider, Menu, MenuItem} from \"@material-ui/core\";\r\nimport CloudDownloadOutlinedIcon from \"@material-ui/icons/CloudDownloadOutlined\";\r\n\r\nimport {guid} from \"../../components\";\r\n\r\nexport default class DownloadMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      menuAnchor: false,\r\n      ...props.state,\r\n    };\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.handleSeason = this.handleSeason.bind(this);\r\n  }\r\n\r\n  handleClick(evt) {\r\n    this.setState({\r\n      menuAnchor: evt.currentTarget,\r\n    });\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({\r\n      menuAnchor: false,\r\n    });\r\n  }\r\n\r\n  handleSeason(evt) {\r\n    evt.preventDefault();\r\n    let { auth, metadata, server } = this.state;\r\n    for (let n = 0; n < metadata.children.length; n++) {\r\n      let req_path = `${server}/api/v1/redirectdownload/${encodeURIComponent(\r\n        metadata.children[n].name\r\n      )}`;\r\n      let req_args = `?a=${auth}&id=${metadata.children[n].id}`;\r\n\r\n      window.open(req_path + req_args);\r\n    }\r\n    this.setState({\r\n      menuAnchor: evt.currentTarget,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let { menuAnchor, videos } = this.state;\r\n\r\n    return (\r\n      <div className=\"info__button\">\r\n        <Button\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n          style={{ width: \"135px\" }}\r\n          aria-controls=\"download-menu\"\r\n          aria-haspopup=\"true\"\r\n          onClick={this.handleClick}\r\n          startIcon={<CloudDownloadOutlinedIcon />}\r\n        >\r\n          Descargar\r\n        </Button>\r\n        <Menu\r\n          id=\"download-menu\"\r\n          anchorEl={menuAnchor}\r\n          keepMounted\r\n          anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n          transformOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n          open={Boolean(menuAnchor)}\r\n          onClose={this.handleClose}\r\n        >\r\n          {videos.length\r\n            ? videos.map((source, n) => (\r\n                <div key={guid()}>\r\n                  <a\r\n                    href={encodeURI(source.url)}\r\n                    className=\"no_decoration_link\"\r\n                    target=\"_blank\"\r\n                  >\r\n                    <MenuItem onClick={this.handleClose}>\r\n                      {source.name}\r\n                    </MenuItem>\r\n                  </a>\r\n                  <div>{n == 0 && videos.length > 1 ? <Divider /> : null}</div>\r\n                </div>\r\n              ))\r\n            : null}\r\n          {this.props.tv ? (\r\n            <div>\r\n              <Divider />\r\n              <MenuItem onClick={this.handleSeason}>Entire Season</MenuItem>\r\n            </div>\r\n          ) : null}\r\n        </Menu>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from \"react\";\r\n\r\nimport {Link} from \"react-router-dom\";\r\n\r\nimport {Button, Dialog, DialogTitle, IconButton, Tooltip, Typography,} from \"@material-ui/core\";\r\nimport CloudDownloadIcon from \"@material-ui/icons/CloudDownload\";\r\nimport CloudUploadIcon from \"@material-ui/icons/CloudUpload\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport KeyboardArrowLeftIcon from \"@material-ui/icons/KeyboardArrowLeft\";\r\nimport KeyboardArrowRightIcon from \"@material-ui/icons/KeyboardArrowRight\";\r\nimport SaveAltIcon from \"@material-ui/icons/SaveAlt\";\r\nimport StarIcon from \"@material-ui/icons/Star\";\r\n\r\nimport {Container, Draggable} from \"react-smooth-dnd\";\r\nimport {arrayMoveImmutable} from \"array-move\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\r\nimport DragHandleIcon from \"@material-ui/icons/DragHandle\";\r\n\r\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\r\nimport \"@sweetalert2/theme-dark/dark.css\";\r\n\r\nimport {guid, theme} from \"../../components\";\r\nimport \"./index.css\";\r\n\r\nexport default class Carousel extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentEditing: null,\r\n      hide: props.hide || false,\r\n      isAndroid: /(android)/i.test(\r\n        navigator.userAgent || navigator.vendor || window.opera\r\n      ),\r\n      isIOS:\r\n        /iPad|iPhone|iPod/.test(\r\n          navigator.userAgent || navigator.vendor || window.opera\r\n        ) && !window.MSStream,\r\n      isEditOpen: false,\r\n      metadata: this.props.metadata,\r\n      server:\r\n        window.sessionStorage.getItem(\"server\") ||\r\n        window.localStorage.getItem(\"server\") ||\r\n        window.location.origin,\r\n      star: props.star,\r\n    };\r\n    this.handleStar = this.handleStar.bind(this);\r\n    this.handleStarReset = this.handleStarReset.bind(this);\r\n    this.handleStarImport = this.handleStarImport.bind(this);\r\n    this.handleStarExport = this.handleStarExport.bind(this);\r\n    this.handlePin = this.handlePin.bind(this);\r\n    this.handleEditOpen = this.handleEditOpen.bind(this);\r\n    this.handleEditClose = this.handleEditClose.bind(this);\r\n    this.handleEditDrop = this.handleEditDrop.bind(this);\r\n    this.handleEditSave = this.handleEditSave.bind(this);\r\n    this.handleScroll = this.handleScroll.bind(this);\r\n  }\r\n\r\n  handleStar(item, category) {\r\n    let { metadata } = this.state;\r\n    let starred_lists = JSON.parse(\r\n      window.localStorage.getItem(\"starred_lists\") || \"[]\"\r\n    );\r\n\r\n    try {\r\n      let index1 = starred_lists.findIndex((i) => i.id == category.id);\r\n      let index2 = starred_lists[index1].children.findIndex(\r\n        (i) => i.id == item.id\r\n      );\r\n      let index3 = metadata.findIndex((i) => i.id == category.id);\r\n      let index4 = metadata[index3].children.findIndex((i) => i.id == item.id);\r\n      starred_lists[index1].children.splice(index2, 1);\r\n      metadata[index3].children.splice(index4, 1);\r\n      window.localStorage.setItem(\r\n        \"starred_lists\",\r\n        JSON.stringify(starred_lists)\r\n      );\r\n      this.setState({ metadata: metadata });\r\n    } catch {\r\n      Swal.fire({\r\n        title: \"Error!\",\r\n        text: \"Your starred list seems to be corrupted!\",\r\n        icon: \"error\",\r\n        confirmButtonText: \"Reset\",\r\n        confirmButtonColor: theme.palette.success.main,\r\n        cancelButtonText: \"Ignore\",\r\n        cancelButtonColor: theme.palette.error.main,\r\n        showCancelButton: true,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          window.localStorage.setItem(\"starred_lists\", \"[]\");\r\n          location.reload();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  handleStarReset(evt) {\r\n    let { metadata } = this.state;\r\n\r\n    Swal.fire({\r\n      title: \"Warning!\",\r\n      text: \"Are you sure you want to delete this starred list?\",\r\n      icon: \"warning\",\r\n      confirmButtonText: \"Delete\",\r\n      confirmButtonColor: theme.palette.success.main,\r\n      cancelButtonText: \"No\",\r\n      cancelButtonColor: theme.palette.error.main,\r\n      showCancelButton: true,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        let starred_lists = JSON.parse(\r\n          window.localStorage.getItem(\"starred_lists\") || \"[]\"\r\n        );\r\n        if (starred_lists.length == 1) {\r\n          starred_lists.shift();\r\n          metadata.shift();\r\n        } else {\r\n          starred_lists.splice(evt, 1);\r\n          metadata.splice(evt, 1);\r\n        }\r\n        window.localStorage.setItem(\r\n          \"starred_lists\",\r\n          JSON.stringify(starred_lists)\r\n        );\r\n        this.setState({ metadata: metadata });\r\n      }\r\n    });\r\n  }\r\n\r\n  handleStarImport(evt) {\r\n    if (evt.target.files.length) {\r\n      var file = evt.target.files[0];\r\n      var reader = new FileReader();\r\n      reader.onload = (evtR) => {\r\n        let starred_lists = JSON.parse(\r\n          window.localStorage.getItem(\"starred_lists\") || \"[]\"\r\n        );\r\n        let starred_list = JSON.parse(evtR.target.result);\r\n        let i = parseInt(evt.target.id.replace(\"file-input-\", \"\"));\r\n        starred_lists[i].children = starred_list.children;\r\n        window.localStorage.setItem(\r\n          \"starred_lists\",\r\n          JSON.stringify(starred_lists)\r\n        );\r\n        let { metadata } = this.state;\r\n        if (metadata.length && metadata[i].type == \"Starred\") {\r\n          metadata[i].children = starred_list.children;\r\n          this.setState({\r\n            metadata: metadata,\r\n          });\r\n        }\r\n      };\r\n      reader.readAsText(file);\r\n    }\r\n  }\r\n\r\n  handleStarExport(evt) {\r\n    let starred_lists = JSON.parse(\r\n      window.localStorage.getItem(\"starred_lists\") || \"[]\"\r\n    );\r\n    let starred_list = starred_lists[evt];\r\n\r\n    const file = new Blob([JSON.stringify(starred_list)], {\r\n      type: \"application/json\",\r\n    });\r\n    const link = document.createElement(\"a\");\r\n    link.href = window.URL.createObjectURL(file);\r\n    link.download = `libdrive-starred-${starred_list.name}-${+new Date()}.json`;\r\n    link.click();\r\n  }\r\n\r\n  handlePin(evt, pin) {\r\n    let starred_lists = JSON.parse(\r\n      window.localStorage.getItem(\"starred_lists\") || \"[]\"\r\n    );\r\n    if (!pin) {\r\n      starred_lists[evt].categoryInfo.pinned = false;\r\n      window.localStorage.setItem(\r\n        \"starred_lists\",\r\n        JSON.stringify(starred_lists)\r\n      );\r\n      this.setState({ metadata: starred_lists });\r\n    } else {\r\n      starred_lists[evt].categoryInfo.pinned = true;\r\n      window.localStorage.setItem(\r\n        \"starred_lists\",\r\n        JSON.stringify(starred_lists)\r\n      );\r\n      this.setState({ metadata: starred_lists });\r\n    }\r\n  }\r\n\r\n  handleEditOpen(evt) {\r\n    this.setState({ currentEditing: evt, isEditOpen: true });\r\n  }\r\n\r\n  handleEditClose() {\r\n    let starred_lists = JSON.parse(\r\n      window.localStorage.getItem(\"starred_lists\") || \"[]\"\r\n    );\r\n    this.setState({\r\n      currentEditing: null,\r\n      isEditOpen: false,\r\n      metadata: starred_lists,\r\n    });\r\n  }\r\n\r\n  handleEditDrop({ removedIndex, addedIndex }) {\r\n    let { metadata, currentEditing } = this.state;\r\n    let items = metadata[currentEditing].children;\r\n    metadata[currentEditing].children = arrayMoveImmutable(\r\n      items,\r\n      removedIndex,\r\n      addedIndex\r\n    );\r\n    this.setState({ metadata: metadata });\r\n  }\r\n\r\n  handleEditSave() {\r\n    let { metadata } = this.state;\r\n    window.localStorage.setItem(\"starred_lists\", JSON.stringify(metadata));\r\n    this.setState({ currentEditing: null, isEditOpen: false });\r\n  }\r\n\r\n  handleScroll(n, offset) {\r\n    document.getElementsByClassName(\"carousel__items\")[n].scrollLeft += offset;\r\n  }\r\n\r\n  render() {\r\n    let {\r\n      currentEditing,\r\n      hide,\r\n      isAndroid,\r\n      isIOS,\r\n      isEditOpen,\r\n      metadata,\r\n      server,\r\n      star,\r\n    } = this.state;\r\n\r\n    return star ? (\r\n      <div className=\"Carousel\" style={{ paddingTop: \"3%\" }}>\r\n        {metadata.length\r\n          ? metadata.map((category, p) =>\r\n              category.children.length || !hide ? (\r\n                <div\r\n                  className=\"carousel__category\"\r\n                  style={{ margin: \"0 auto 0 auto\" }}\r\n                  key={guid()}\r\n                >\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      justifyContent: \"center\",\r\n                    }}\r\n                  >\r\n                    <div style={{ width: \"100%\" }}>\r\n                      <div\r\n                        style={{\r\n                          float: \"left\",\r\n                          display: \"flex\",\r\n                          justifyContent: \"center\",\r\n                          alignItems: \"center\",\r\n                        }}\r\n                      >\r\n                        <Link\r\n                          id={`${category.categoryInfo.name}`}\r\n                          to={`#${category.categoryInfo.name}`}\r\n                          className=\"carousel__category__title no_decoration_link\"\r\n                        >\r\n                          {category.categoryInfo.name}\r\n                        </Link>\r\n                        <Tooltip title=\"Edit\" placement=\"top\">\r\n                          <IconButton\r\n                            color=\"primary\"\r\n                            onClick={() => this.handleEditOpen(p)}\r\n                            style={{ marginLeft: \"20px\" }}\r\n                          >\r\n                            <EditIcon />\r\n                          </IconButton>\r\n                        </Tooltip>\r\n                        <Tooltip title=\"Delete\" placement=\"top\">\r\n                          <IconButton\r\n                            color=\"primary\"\r\n                            onClick={() => this.handleStarReset(p)}\r\n                          >\r\n                            <DeleteIcon />\r\n                          </IconButton>\r\n                        </Tooltip>\r\n                      </div>\r\n                      <div\r\n                        style={{\r\n                          float: \"right\",\r\n                          display: \"flex\",\r\n                          justifyContent: \"center\",\r\n                          alignItems: \"center\",\r\n                        }}\r\n                      >\r\n                        <input\r\n                          id={`file-input-${p}`}\r\n                          hidden\r\n                          onChange={this.handleStarImport}\r\n                          type=\"file\"\r\n                        />\r\n                        <label htmlFor={`file-input-${p}`}>\r\n                          <Tooltip title=\"Upload\" placement=\"top\">\r\n                            <IconButton color=\"primary\">\r\n                              <CloudUploadIcon />\r\n                            </IconButton>\r\n                          </Tooltip>\r\n                        </label>\r\n                        <Tooltip title=\"Export\" placement=\"top\">\r\n                          <IconButton\r\n                            color=\"primary\"\r\n                            onClick={() => this.handleStarExport(p)}\r\n                          >\r\n                            <CloudDownloadIcon />\r\n                          </IconButton>\r\n                        </Tooltip>\r\n                        {category.categoryInfo.pinned ? (\r\n                          <Tooltip title=\"Unpin\" placement=\"top\">\r\n                            <IconButton\r\n                              color=\"primary\"\r\n                              onClick={() => this.handlePin(p, false)}\r\n                            >\r\n                              <svg\r\n                                xmlns=\"http://www.w3.org/2000/svg\"\r\n                                enableBackground=\"new 0 0 24 24\"\r\n                                height=\"24px\"\r\n                                viewBox=\"0 0 24 24\"\r\n                                width=\"24px\"\r\n                                fill={theme.palette.primary.main}\r\n                              >\r\n                                <g>\r\n                                  <rect fill=\"none\" height=\"24\" width=\"24\" />\r\n                                </g>\r\n                                <g>\r\n                                  <path\r\n                                    d=\"M16,9V4l1,0c0.55,0,1-0.45,1-1v0c0-0.55-0.45-1-1-1H7C6.45,2,6,2.45,6,3v0 c0,0.55,0.45,1,1,1l1,0v5c0,1.66-1.34,3-3,3h0v2h5.97v7l1,1l1-1v-7H19v-2h0C17.34,12,16,10.66,16,9z\"\r\n                                    fillRule=\"evenodd\"\r\n                                  />\r\n                                </g>\r\n                              </svg>\r\n                            </IconButton>\r\n                          </Tooltip>\r\n                        ) : (\r\n                          <Tooltip title=\"Pin\" placement=\"top\">\r\n                            <IconButton\r\n                              color=\"primary\"\r\n                              onClick={() => this.handlePin(p, true)}\r\n                            >\r\n                              <svg\r\n                                xmlns=\"http://www.w3.org/2000/svg\"\r\n                                enableBackground=\"new 0 0 24 24\"\r\n                                height=\"24px\"\r\n                                viewBox=\"0 0 24 24\"\r\n                                width=\"24px\"\r\n                                fill={theme.palette.primary.main}\r\n                              >\r\n                                <g>\r\n                                  <rect fill=\"none\" height=\"24\" width=\"24\" />\r\n                                </g>\r\n                                <g>\r\n                                  <path d=\"M14,4v5c0,1.12,0.37,2.16,1,3H9c0.65-0.86,1-1.9,1-3V4H14 M17,2H7C6.45,2,6,2.45,6,3c0,0.55,0.45,1,1,1c0,0,0,0,0,0l1,0v5 c0,1.66-1.34,3-3,3v2h5.97v7l1,1l1-1v-7H19v-2c0,0,0,0,0,0c-1.66,0-3-1.34-3-3V4l1,0c0,0,0,0,0,0c0.55,0,1-0.45,1-1 C18,2.45,17.55,2,17,2L17,2z\" />\r\n                                </g>\r\n                              </svg>\r\n                            </IconButton>\r\n                          </Tooltip>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"carousel__items\">\r\n                    {category.children.length\r\n                      ? category.children.map((item) => (\r\n                          <div>\r\n                            <figure\r\n                              className=\"carousel__item__figure\"\r\n                              key={guid()}\r\n                            >\r\n                              <Link to={`/view/${item.id}`} key={guid()}>\r\n                                <img\r\n                                  src={\r\n                                    item.posterPath ||\r\n                                    `${server}/api/v1/image/poster?text=${item.title}&extention=jpeg`\r\n                                  }\r\n                                  key={guid()}\r\n                                  className=\"carousel__item__poster\"\r\n                                  alt={item.title}\r\n                                />\r\n                              </Link>\r\n                              <Typography className=\"carousel__item__title\">\r\n                                {item.title}\r\n                              </Typography>\r\n                              <div\r\n                                style={{\r\n                                  display: \"flex\",\r\n                                  justifyContent: \"center\",\r\n                                }}\r\n                              >\r\n                                <IconButton\r\n                                  style={{ padding: \"2px\" }}\r\n                                  onClick={() =>\r\n                                    this.handleStar(item, category)\r\n                                  }\r\n                                >\r\n                                  <StarIcon />\r\n                                </IconButton>\r\n                              </div>\r\n                            </figure>\r\n                          </div>\r\n                        ))\r\n                      : null}\r\n                  </div>\r\n                </div>\r\n              ) : null\r\n            )\r\n          : null}\r\n        {isEditOpen ? (\r\n          <Dialog\r\n            onClose={this.handleEditClose}\r\n            aria-labelledby=\"simple-dialog-title\"\r\n            fullWidth={true}\r\n            maxWidth={\"md\"}\r\n            open={isEditOpen || false}\r\n          >\r\n            <DialogTitle id=\"simple-dialog-title\">\r\n              {metadata[currentEditing].categoryInfo.name}\r\n            </DialogTitle>\r\n            <List>\r\n              <Container\r\n                dragHandleSelector=\".drag-handle\"\r\n                lockAxis=\"y\"\r\n                onDrop={this.handleEditDrop}\r\n              >\r\n                {metadata[currentEditing].children.map(({ id, title }) => (\r\n                  <Draggable key={id}>\r\n                    <ListItem divider={true}>\r\n                      <ListItemText primary={title} />\r\n                      <ListItemSecondaryAction>\r\n                        <ListItemIcon className=\"drag-handle\">\r\n                          <DragHandleIcon />\r\n                        </ListItemIcon>\r\n                      </ListItemSecondaryAction>\r\n                    </ListItem>\r\n                  </Draggable>\r\n                ))}\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  style={{ width: \"135px\", margin: \"30px 0 15px 15px\" }}\r\n                  onClick={this.handleEditSave}\r\n                  startIcon={<SaveAltIcon />}\r\n                >\r\n                  Save\r\n                </Button>\r\n              </Container>\r\n            </List>\r\n          </Dialog>\r\n        ) : null}\r\n      </div>\r\n    ) : (\r\n      <div className=\"Carousel\">\r\n        {metadata.length\r\n          ? metadata.map((category, n) =>\r\n              category.children.length || !hide ? (\r\n                <div className=\"carousel__category\" key={guid()}>\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      justifyContent: \"center\",\r\n                    }}\r\n                  >\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        flexShrink: \"0\",\r\n                      }}\r\n                    >\r\n                      <Link\r\n                        id={`${category.categoryInfo.name}`}\r\n                        to={\r\n                          category.categoryInfo.type == \"Starred\"\r\n                            ? `/starred#${category.categoryInfo.name}`\r\n                            : `/browse/${category.categoryInfo.name}`\r\n                        }\r\n                        key={guid()}\r\n                        className=\"carousel__category__title no_decoration_link\"\r\n                      >\r\n                        {category.categoryInfo.name}\r\n                      </Link>\r\n                    </div>\r\n                    {isAndroid || isIOS ? null : (\r\n                      <div\r\n                        style={{\r\n                          width: \"100%\",\r\n                          display: \"flex\",\r\n                          justifyContent: \"space-between\",\r\n                        }}\r\n                      >\r\n                        <IconButton onClick={() => this.handleScroll(n, -500)}>\r\n                          <KeyboardArrowLeftIcon\r\n                            style={{\r\n                              fontSize: \"36px\",\r\n                              fill: theme.palette.primary.main,\r\n                            }}\r\n                          />\r\n                        </IconButton>\r\n                        <IconButton onClick={() => this.handleScroll(n, 500)}>\r\n                          <KeyboardArrowRightIcon\r\n                            style={{\r\n                              fontSize: \"36px\",\r\n                              fill: theme.palette.primary.main,\r\n                            }}\r\n                          />\r\n                        </IconButton>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"carousel__items\">\r\n                    {category.children.length\r\n                      ? category.children.map((item) => (\r\n                          <figure\r\n                            className=\"carousel__item__figure\"\r\n                            key={guid()}\r\n                          >\r\n                            <Link\r\n                              to={`/view/${item.type == \"file\" ? \"m\" : \"tb\"}/${\r\n                                item.id\r\n                              }`}\r\n                              key={guid()}\r\n                            >\r\n                              <img\r\n                                src={\r\n                                  item.posterPath ||\r\n                                  `${server}/api/v1/image/poster?text=${item.title}&extention=jpeg`\r\n                                }\r\n                                key={guid()}\r\n                                className=\"carousel__item__poster\"\r\n                                alt={item.title}\r\n                              />\r\n                            </Link>\r\n                            <Typography\r\n                              className=\"carousel__item__title\"\r\n                              key={guid()}\r\n                            >\r\n                              {item.title}\r\n                            </Typography>\r\n                          </figure>\r\n                        ))\r\n                      : null}\r\n                  </div>\r\n                </div>\r\n              ) : null\r\n            )\r\n          : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from \"react\";\r\n\r\nimport {CircularProgress} from \"@material-ui/core\";\r\n\r\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\r\nimport \"@sweetalert2/theme-dark/dark.css\";\r\n\r\nimport axios from \"axios\";\r\nimport queryString from \"query-string\";\r\n\r\nimport {Footer, Nav, PageMenu, seo, SortMenu, theme, Tile,} from \"../../components\";\r\n\r\nexport default class CategoryBrowse extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      auth:\r\n        window.sessionStorage.getItem(\"auth\") ||\r\n        window.localStorage.getItem(\"auth\") ||\r\n        \"0\",\r\n      category: this.props.match.params.category,\r\n      genre: queryString.parse(this.props.location.search).genre || \"\",\r\n      isLoaded: false,\r\n      metadata: {},\r\n      page: parseInt(queryString.parse(this.props.location.search).page) || 1,\r\n      range: `${\r\n        queryString.parse(this.props.location.search).page === undefined\r\n          ? `0:${\r\n              JSON.parse(\r\n                window.localStorage.getItem(\"ui_config\") ||\r\n                  window.sessionStorage.getItem(\"ui_config\") ||\r\n                  \"{}\"\r\n              ).range || \"16\"\r\n            }`\r\n          : `${\r\n              (parseInt(queryString.parse(this.props.location.search).page) -\r\n                1) *\r\n              parseInt(\r\n                JSON.parse(\r\n                  window.localStorage.getItem(\"ui_config\") ||\r\n                    window.sessionStorage.getItem(\"ui_config\") ||\r\n                    \"{}\"\r\n                ).range || \"16\"\r\n              )\r\n            }:${\r\n              parseInt(queryString.parse(this.props.location.search).page) *\r\n              parseInt(\r\n                JSON.parse(\r\n                  window.localStorage.getItem(\"ui_config\") ||\r\n                    window.sessionStorage.getItem(\"ui_config\") ||\r\n                    \"{}\"\r\n                ).range || \"16\"\r\n              )\r\n            }`\r\n      }`,\r\n      server:\r\n        window.sessionStorage.getItem(\"server\") ||\r\n        window.localStorage.getItem(\"server\") ||\r\n        window.location.origin,\r\n      sort: queryString.parse(this.props.location.search).sort || \"\",\r\n      ui_config: JSON.parse(\r\n        window.localStorage.getItem(\"ui_config\") ||\r\n          window.sessionStorage.getItem(\"ui_config\") ||\r\n          \"{}\"\r\n      ),\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    let { auth, category, genre, range, server, sort, ui_config } = this.state;\r\n\r\n    if (!auth || !server) {\r\n      this.props.history.push(\"/logout\");\r\n    }\r\n\r\n    window.scrollTo(0, 0);\r\n\r\n    let req_path = `${server}/api/v1/metadata`;\r\n    let req_args = `?a=${auth}&c=${encodeURIComponent(\r\n      category\r\n    )}&g=${encodeURIComponent(genre)}&r=${range}&s=${sort}`;\r\n\r\n    axios\r\n      .get(req_path + req_args)\r\n      .then((response) => {\r\n        this.setState({\r\n          isLoaded: true,\r\n          metadata: response.data.content,\r\n          pages:\r\n            Math.ceil(\r\n              response.data.content[0][\"length\"] /\r\n                parseInt(ui_config.range || \"16\")\r\n            ) || 1,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        if (error.response) {\r\n          let data = error.response.data;\r\n          if (data.code === 401) {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: data.message,\r\n              icon: \"error\",\r\n              confirmButtonText: \"Login\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              }\r\n            });\r\n          } else if (!server) {\r\n            this.props.history.push(\"/logout\");\r\n          } else {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: data.message,\r\n              icon: \"error\",\r\n              confirmButtonText: \"Logout\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n              cancelButtonText: \"Retry\",\r\n              cancelButtonColor: theme.palette.error.main,\r\n              showCancelButton: true,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              } else if (result.isDismissed) {\r\n                location.reload();\r\n              }\r\n            });\r\n          }\r\n        } else if (error.request) {\r\n          if (!server) {\r\n            this.props.history.push(\"/logout\");\r\n          } else {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: `libDrive could not communicate with the server! Is '${server}' the correct address?`,\r\n              icon: \"error\",\r\n              confirmButtonText: \"Logout\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n              cancelButtonText: \"Retry\",\r\n              cancelButtonColor: theme.palette.error.main,\r\n              showCancelButton: true,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              } else if (result.isDismissed) {\r\n                location.reload();\r\n              }\r\n            });\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    seo();\r\n  }\r\n\r\n  render() {\r\n    let { genre, isLoaded, metadata, page, pages, sort, ui_config } =\r\n      this.state;\r\n\r\n    if (isLoaded) {\r\n      seo({\r\n        title: `${ui_config.title || \"GBStream\"} - ${\r\n          metadata[0].categoryInfo.name\r\n        }`,\r\n        description: `Browse ${metadata[0].categoryInfo.name} on ${\r\n          ui_config.title || \"GBStream\"\r\n        }!`,\r\n      });\r\n    }\r\n\r\n    return isLoaded ? (\r\n      <div className=\"CategoryBrowse\">\r\n        <Nav {...this.props} />\r\n        <Tile metadata={metadata} />\r\n        <PageMenu\r\n          state={{ genre: genre, page: page, pages: pages, sort: sort }}\r\n          props={this.props}\r\n        />\r\n        <SortMenu state={{ genre: genre, sort: sort }} props={this.props} />\r\n        <Footer />\r\n      </div>\r\n    ) : (\r\n      <div className=\"Loading\">\r\n        <CircularProgress />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from \"react\";\r\n\r\nimport {Link} from \"react-router-dom\";\r\n\r\nimport {Button, Menu, MenuItem} from \"@material-ui/core\";\r\nimport TvIcon from \"@material-ui/icons/Tv\";\r\n\r\nimport {guid} from \"../../components\";\r\n\r\nexport default class ChildrenMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      menuAnchor: false,\r\n      ...props.state,\r\n    };\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n  }\r\n\r\n  handleClick(evt) {\r\n    this.setState({\r\n      menuAnchor: evt.currentTarget,\r\n    });\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({\r\n      menuAnchor: false,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let { metadata, menuAnchor } = this.state;\r\n    return (\r\n      <div className=\"info__button2\">\r\n        <Button\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n          style={{ width: \"135px\" }}\r\n          aria-controls=\"children-menu\"\r\n          aria-haspopup=\"true\"\r\n          onClick={this.handleClick}\r\n          startIcon={<TvIcon />}\r\n        >\r\n          Temporadas\r\n        </Button>\r\n        <Menu\r\n          id=\"children-menu\"\r\n          anchorEl={menuAnchor}\r\n          keepMounted\r\n          anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n          transformOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n          open={Boolean(menuAnchor)}\r\n          onClose={this.handleClose}\r\n        >\r\n          {metadata.children.length\r\n            ? metadata.children.map((child) => {\r\n                if (child.type == \"directory\") {\r\n                  return (\r\n                    <Link\r\n                      to={`/view/ts/${child.id}`}\r\n                      className=\"no_decoration_link\"\r\n                      key={guid()}\r\n                    >\r\n                      <MenuItem onClick={this.handleClose}>\r\n                        {child.name}\r\n                      </MenuItem>\r\n                    </Link>\r\n                  );\r\n                }\r\n              })\r\n            : null}\r\n        </Menu>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from \"react\";\r\n\r\nimport {withStyles} from \"@material-ui/core/styles\";\r\n\r\nconst styles = (theme) => ({\r\n  footer__container: {\r\n    width: \"100%\",\r\n    height: \"75px\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n});\r\n\r\nclass Footer extends Component {\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n        <div style={{ paddingTop: \"75px\" }}>\r\n          <footer className={classes.footer__container} id=\"footer__container\">\r\n          <span className=\"footer__text\">\r\n             2024 Copyright: GBStream\r\n          </span>\r\n          </footer>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(Footer);\r\n","import React, {Component} from \"react\";\r\n\r\nimport {CircularProgress} from \"@material-ui/core\";\r\n\r\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\r\nimport \"@sweetalert2/theme-dark/dark.css\";\r\n\r\nimport axios from \"axios\";\r\nimport queryString from \"query-string\";\r\n\r\nimport {Footer, Nav, PageMenu, seo, SortMenu, theme, Tile,} from \"../../components\";\r\n\r\nexport default class CategoryBrowse extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      auth:\r\n        window.sessionStorage.getItem(\"auth\") ||\r\n        window.localStorage.getItem(\"auth\") ||\r\n        \"0\",\r\n      genre: queryString.parse(this.props.location.search).genre || \"\",\r\n      isLoaded: false,\r\n      metadata: {},\r\n      page: parseInt(queryString.parse(this.props.location.search).page) || 1,\r\n      range: `${\r\n        queryString.parse(this.props.location.search).page === undefined\r\n          ? \"0:8\"\r\n          : `${\r\n              (parseInt(queryString.parse(this.props.location.search).page) -\r\n                1) *\r\n              8\r\n            }:${\r\n              parseInt(queryString.parse(this.props.location.search).page) * 8\r\n            }`\r\n      }`,\r\n      server:\r\n        window.sessionStorage.getItem(\"server\") ||\r\n        window.localStorage.getItem(\"server\") ||\r\n        window.location.origin,\r\n      sort: queryString.parse(this.props.location.search).sort || \"\",\r\n      ui_config: JSON.parse(\r\n        window.localStorage.getItem(\"ui_config\") ||\r\n          window.sessionStorage.getItem(\"ui_config\") ||\r\n          \"{}\"\r\n      ),\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    let { auth, genre, range, server, sort } = this.state;\r\n\r\n    if (!auth || !server) {\r\n      this.props.history.push(\"/logout\");\r\n    }\r\n\r\n    let req_path = `${server}/api/v1/metadata`;\r\n    let req_args = `?a=${auth}&g=${encodeURIComponent(\r\n      genre\r\n    )}&r=${range}&s=${sort}`;\r\n\r\n    axios\r\n      .get(req_path + req_args)\r\n      .then((response) => {\r\n        this.setState({\r\n          isLoaded: true,\r\n          metadata: response.data.content,\r\n          pages: Math.ceil(response.data.content[0][\"length\"] / 8) || 1,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        if (error.response) {\r\n          let data = error.response.data;\r\n          if (data.code === 401) {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: data.message,\r\n              icon: \"error\",\r\n              confirmButtonText: \"Login\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              }\r\n            });\r\n          } else if (!server) {\r\n            this.props.history.push(\"/logout\");\r\n          } else {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: data.message,\r\n              icon: \"error\",\r\n              confirmButtonText: \"Logout\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n              cancelButtonText: \"Retry\",\r\n              cancelButtonColor: theme.palette.error.main,\r\n              showCancelButton: true,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              } else if (result.isDismissed) {\r\n                location.reload();\r\n              }\r\n            });\r\n          }\r\n        } else if (error.request) {\r\n          if (!server) {\r\n            this.props.history.push(\"/logout\");\r\n          } else {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: `libDrive could not communicate with the server! Is '${server}' the correct address?`,\r\n              icon: \"error\",\r\n              confirmButtonText: \"Logout\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n              cancelButtonText: \"Retry\",\r\n              cancelButtonColor: theme.palette.error.main,\r\n              showCancelButton: true,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              } else if (result.isDismissed) {\r\n                location.reload();\r\n              }\r\n            });\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    seo();\r\n  }\r\n\r\n  render() {\r\n    let { genre, isLoaded, metadata, page, pages, sort, ui_config } =\r\n      this.state;\r\n\r\n    if (isLoaded) {\r\n      seo({\r\n        title: `${ui_config.title || \"GBStream\"}${genre ? ` - ${genre}` : \"\"}`,\r\n        description: `Browse ${genre ? `the ${genre} genre` : \"genres\"} on ${\r\n          ui_config.title || \"GBStream\"\r\n        }!`,\r\n      });\r\n    }\r\n\r\n    return isLoaded ? (\r\n      <div className=\"CategoryBrowse\">\r\n        <Nav {...this.props} />\r\n        <Tile metadata={metadata} />\r\n        <PageMenu\r\n          state={{ genre: genre, page: page, pages: pages, sort: sort }}\r\n          props={this.props}\r\n        />\r\n        <SortMenu state={{ genre: genre, sort: sort }} props={this.props} />\r\n        <Footer />\r\n      </div>\r\n    ) : (\r\n      <div className=\"Loading\">\r\n        <CircularProgress />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","export default function guid() {\r\n  function _p8(s) {\r\n    var p = (Math.random().toString(16) + \"000000000\").substr(2, 8);\r\n    return s ? \"-\" + p.substr(0, 4) + \"-\" + p.substr(4, 4) : p;\r\n  }\r\n  return _p8() + _p8(true) + _p8(true) + _p8();\r\n}\r\n","import React, {Component} from \"react\";\r\n\r\nimport {Avatar, Button, Container, CssBaseline, TextField, Typography,} from \"@material-ui/core\";\r\nimport {withStyles} from \"@material-ui/core/styles\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\n\r\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\r\nimport \"@sweetalert2/theme-dark/dark.css\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport {theme} from \"../../components\";\r\nimport Footer from \"../../components/Footer\";\r\n\r\nconst styles = (theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n});\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      auth: \"\",\r\n      error: \"\",\r\n      page: false,\r\n      password: \"\",\r\n      signup: false,\r\n      server: window.location.origin,\r\n      username: \"\",\r\n    };\r\n\r\n    this.handleTempServerChange = this.handleTempServerChange.bind(this);\r\n    this.handlePassChange = this.handlePassChange.bind(this);\r\n    this.handleUserChange = this.handleUserChange.bind(this);\r\n    this.handleServerSubmit = this.handleServerSubmit.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleSignup = this.handleSignup.bind(this);\r\n    this.dismissError = this.dismissError.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    let { server } = this.state;\r\n\r\n    let req_path = `${server}/api/v1/auth`;\r\n    let req_args = `?rules=signup`;\r\n\r\n    axios.get(req_path + req_args).then((response) => {\r\n      let data = response.data;\r\n      if (data.code === 200) {\r\n        window.localStorage.setItem(\"auth\", \"0\");\r\n        window.localStorage.setItem(\"server\", server);\r\n        window.localStorage.setItem(\r\n          \"ui_config\",\r\n          JSON.stringify(data.content.ui_config)\r\n        );\r\n        window.sessionStorage.setItem(\"auth\", \"0\");\r\n        window.sessionStorage.setItem(\"server\", server);\r\n        window.sessionStorage.setItem(\r\n          \"ui_config\",\r\n          JSON.stringify(data.content.ui_config)\r\n        );\r\n        this.props.history.push(\"/browse\");\r\n      } else if (data.content === true) {\r\n        this.setState({ signup: true, page: true });\r\n      } else if (data.content === false) {\r\n        this.setState({ signup: false, page: true });\r\n      }\r\n    });\r\n  }\r\n\r\n  dismissError() {\r\n    this.setState({ error: \"\" });\r\n  }\r\n\r\n  handleServerSubmit(evt) {\r\n    evt.preventDefault();\r\n    let { server } = this.state;\r\n\r\n    if (!server) {\r\n      return this.setState({ error: \"Server is required\" });\r\n    }\r\n    if (!server.startsWith(\"http\")) {\r\n      server = `https://${server}`;\r\n    }\r\n\r\n    let req_path = `${server}/api/v1/auth`;\r\n    let req_args = `?rules=signup`;\r\n\r\n    axios\r\n      .get(req_path + req_args)\r\n      .then((response) => {\r\n        let data = response.data;\r\n        if (data.code === 200) {\r\n          window.localStorage.setItem(\"auth\", \"0\");\r\n          window.localStorage.setItem(\"server\", server);\r\n          window.localStorage.setItem(\r\n            \"ui_config\",\r\n            JSON.stringify(data.content.ui_config)\r\n          );\r\n          window.sessionStorage.setItem(\"auth\", \"0\");\r\n          window.sessionStorage.setItem(\"server\", server);\r\n          window.sessionStorage.setItem(\r\n            \"ui_config\",\r\n            JSON.stringify(data.content.ui_config)\r\n          );\r\n          this.props.history.push(\"/browse\");\r\n        } else if (data.content === true) {\r\n          this.setState({ server: server, signup: true, page: true });\r\n        } else if (data.content === false) {\r\n          this.setState({ server: server, signup: false, page: true });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        try {\r\n          let data = response.data;\r\n          Swal.fire({\r\n            title: \"Error!\",\r\n            text: data.message,\r\n            icon: \"error\",\r\n            confirmButtonText: \"OK\",\r\n            confirmButtonColor: theme.palette.success.main,\r\n          });\r\n        } catch {\r\n          Swal.fire({\r\n            title: \"Error!\",\r\n            text: `You were unable to communicate with the server. Are you sure ${server} is the correct server?`,\r\n            icon: \"error\",\r\n            confirmButtonText: \"OK\",\r\n            confirmButtonColor: theme.palette.success.main,\r\n          });\r\n        }\r\n      });\r\n  }\r\n\r\n  handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    let { password, server, username } = this.state;\r\n\r\n    let req_path = `${server}/api/v1/auth`;\r\n    let req_args = `?u=${encodeURIComponent(username)}&p=${encodeURIComponent(\r\n      password\r\n    )}`;\r\n\r\n    axios\r\n      .get(req_path + req_args)\r\n      .then((response) => {\r\n        let data = response.data;\r\n        window.localStorage.setItem(\"server\", server);\r\n        window.sessionStorage.setItem(\"server\", server);\r\n        window.localStorage.setItem(\r\n          \"ui_config\",\r\n          JSON.stringify(data.content.ui_config)\r\n        );\r\n        window.localStorage.setItem(\"auth\", data.content.auth);\r\n        window.sessionStorage.setItem(\"auth\", data.content.auth);\r\n        window.sessionStorage.setItem(\r\n          \"ui_config\",\r\n          JSON.stringify(data.content.ui_config)\r\n        );\r\n        this.props.history.push(\"/\");\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        try {\r\n          let data = response.data;\r\n          Swal.fire({\r\n            title: \"Error!\",\r\n            text: data.message,\r\n            icon: \"error\",\r\n            confirmButtonText: \"OK\",\r\n            confirmButtonColor: theme.palette.success.main,\r\n          });\r\n        } catch {\r\n          Swal.fire({\r\n            title: \"Error!\",\r\n            text: `The username and or password was incorrect!`,\r\n            icon: \"error\",\r\n            confirmButtonText: \"OK\",\r\n            confirmButtonColor: theme.palette.success.main,\r\n          });\r\n        }\r\n      });\r\n    return this.setState({ error: \"\" });\r\n  }\r\n\r\n  handleSignup() {\r\n    let { password, server, username } = this.state;\r\n\r\n    if (!username) {\r\n      return this.setState({ error: \"Username is required\" });\r\n    }\r\n    if (!password) {\r\n      return this.setState({ error: \"Password is required\" });\r\n    }\r\n\r\n    let req_path = `${server}/api/v1/signup`;\r\n    let req_args = `?u=${encodeURIComponent(username)}&p=${encodeURIComponent(\r\n      password\r\n    )}`;\r\n\r\n    axios\r\n      .get(req_path + req_args)\r\n      .then((response) => {\r\n        let data = response.data;\r\n        window.localStorage.setItem(\"server\", server);\r\n        window.sessionStorage.setItem(\"server\", server);\r\n        window.localStorage.setItem(\"auth\", data.content.auth);\r\n        window.sessionStorage.setItem(\"auth\", data.content.auth);\r\n        this.props.history.push(\"/\");\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        let data = error.response;\r\n        try {\r\n          Swal.fire({\r\n            title: \"Error!\",\r\n            text: data.message,\r\n            icon: \"error\",\r\n            confirmButtonText: \"OK\",\r\n            confirmButtonColor: theme.palette.success.main,\r\n          });\r\n        } catch {\r\n          Swal.fire({\r\n            title: \"Error!\",\r\n            text: `Something went wrong while communicating with the server ${server}`,\r\n            icon: \"error\",\r\n            confirmButtonText: \"OK\",\r\n            confirmButtonColor: theme.palette.success.main,\r\n          });\r\n        }\r\n      });\r\n    return this.setState({ error: \"\" });\r\n  }\r\n\r\n  handleTempServerChange(evt) {\r\n    this.setState({\r\n      server: evt.target.value,\r\n    });\r\n  }\r\n\r\n  handleUserChange(evt) {\r\n    this.setState({\r\n      username: evt.target.value,\r\n    });\r\n  }\r\n\r\n  handlePassChange(evt) {\r\n    this.setState({\r\n      password: evt.target.value,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let { error, password, page, server, username } = this.state;\r\n    const { classes } = this.props;\r\n\r\n    return !page ? (\r\n      <div className=\"Login\">\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n          <CssBaseline />\r\n          <div className={classes.paper}>\r\n            <Avatar className={classes.avatar}>\r\n              <LockOutlinedIcon />\r\n            </Avatar>\r\n            <Typography variant=\"h5\">Sign in</Typography>\r\n            <form\r\n              className={classes.form}\r\n              onSubmit={this.handleServerSubmit}\r\n              noValidate\r\n            >\r\n              {error && (\r\n                <div style={{}}>\r\n                  <h3 data-test=\"error\" onClick={this.dismissError}>\r\n                    <button onClick={this.dismissError}></button>\r\n                    {error}\r\n                  </h3>\r\n                </div>\r\n              )}\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                id=\"server\"\r\n                label=\"Server\"\r\n                name=\"server\"\r\n                autoComplete=\"server\"\r\n                onChange={this.handleTempServerChange}\r\n                value={server}\r\n                autoFocus\r\n              />\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n              >\r\n                Next\r\n              </Button>\r\n            </form>\r\n          </div>\r\n        </Container>\r\n        <Footer />\r\n      </div>\r\n    ) : (\r\n      <div className=\"Login\">\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n          <CssBaseline />\r\n          <div className={classes.paper}>\r\n            <Avatar className={classes.avatar}>\r\n              <LockOutlinedIcon />\r\n            </Avatar>\r\n            <Typography variant=\"h5\">Sign in</Typography>\r\n            <form\r\n              className={classes.form}\r\n              onSubmit={this.handleSubmit}\r\n              noValidate\r\n            >\r\n              {error && (\r\n                <div style={{}}>\r\n                  <h3 data-test=\"error\" onClick={this.dismissError}>\r\n                    <button onClick={this.dismissError}></button>\r\n                    {error}\r\n                  </h3>\r\n                </div>\r\n              )}\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                id=\"server\"\r\n                label=\"Server\"\r\n                name=\"server\"\r\n                autoComplete=\"server\"\r\n                onChange={this.handleTempServerChange}\r\n                value={server}\r\n                autoFocus\r\n                disabled\r\n              />\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                id=\"username\"\r\n                label=\"Username\"\r\n                name=\"username\"\r\n                autoComplete=\"username\"\r\n                onChange={this.handleUserChange}\r\n                value={username}\r\n              />\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                autoComplete=\"current-password\"\r\n                onChange={this.handlePassChange}\r\n                value={password}\r\n              />\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n              >\r\n                Sign In\r\n              </Button>\r\n              {this.state.signup ? (\r\n                <div className=\"Signup\" style={{ textAlign: \"center\" }}>\r\n                  <Button\r\n                    type=\"button\"\r\n                    onClick={this.handleSignup}\r\n                    fullWidth\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    style={{ marginTop: 0 }}\r\n                    className={classes.submit}\r\n                  >\r\n                    Sign Up\r\n                  </Button>\r\n                  <Typography variant=\"body1\">\r\n                    Be aware that the owner of this server can view your\r\n                    credentials!\r\n                  </Typography>\r\n                </div>\r\n              ) : (\r\n                <div className=\"Signup\"></div>\r\n              )}\r\n            </form>\r\n          </div>\r\n        </Container>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(Login);\r\n","import React, {Component} from \"react\";\r\n\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nimport {CircularProgress} from \"@material-ui/core\";\r\n\r\nimport {guid} from \"../../components\";\r\n\r\nexport default class Logout extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { isLoaded: false };\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.localStorage.clear();\r\n    window.sessionStorage.clear();\r\n    setTimeout(() => this.setState({ isLoaded: true }), 500);\r\n  }\r\n\r\n  render() {\r\n    let { isLoaded } = this.state;\r\n\r\n    return isLoaded ? (\r\n      <Redirect to=\"/login\" key={guid()} />\r\n    ) : (\r\n      <div className=\"Loading\">\r\n        <CircularProgress />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from \"react\";\r\n\r\nimport {Link} from \"react-router-dom\";\r\n\r\nimport {AppBar, Avatar, IconButton, InputBase, Toolbar, Typography,} from \"@material-ui/core\";\r\nimport {alpha, withStyles} from \"@material-ui/core/styles\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\n\r\nimport {AccountMenu, BrowseMenu, guid, ThemeMenu,} from \"../../components\";\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.default,\r\n    color: theme.palette.text.primary,\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  title: {\r\n    display: \"none\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      display: \"block\",\r\n    },\r\n  },\r\n  search: {\r\n    position: \"relative\",\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: alpha(theme.palette.common.main, 0.15),\r\n    \"&:hover\": {\r\n      backgroundColor: alpha(theme.palette.common.main, 0.25),\r\n    },\r\n    marginRight: theme.spacing(2),\r\n    marginLeft: 0,\r\n    width: \"100%\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      marginLeft: theme.spacing(3),\r\n      width: \"auto\",\r\n    },\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    zIndex: 10,\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  inputRoot: {\r\n    color: \"inherit\",\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create(\"width\"),\r\n    width: \"15vw\",\r\n    maxWidth: \"500px\",\r\n  },\r\n});\r\n\r\nclass NavUI extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ...props.state,\r\n      ui_config: JSON.parse(\r\n        window.localStorage.getItem(\"ui_config\") ||\r\n          window.sessionStorage.getItem(\"ui_config\") ||\r\n          \"{}\"\r\n      ),\r\n    };\r\n    this.searchChange = this.searchChange.bind(this);\r\n    this.searchSubmit = this.searchSubmit.bind(this);\r\n    this.onMouseOver = this.onMouseOver.bind(this);\r\n    this.onMouseOut = this.onMouseOut.bind(this);\r\n  }\r\n\r\n  searchChange(evt) {\r\n    this.setState({ search: evt.target.value });\r\n  }\r\n\r\n  searchSubmit(evt) {\r\n    evt.preventDefault();\r\n    if (!(this.state.search == \"\" || this.state.search == null)) {\r\n      this.props.history.push({\r\n        pathname: `/search/${this.state.search}`,\r\n        key: guid(),\r\n      });\r\n    }\r\n  }\r\n\r\n  onMouseOver(evt) {\r\n    evt.target.style.width = \"20vw\";\r\n  }\r\n\r\n  onMouseOut(evt) {\r\n    evt.target.style.width = \"15vw\";\r\n  }\r\n\r\n  render() {\r\n    let { accounts, categories, query, search, ui_config } = this.state;\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div className={classes.grow}>\r\n        <AppBar position=\"static\" className={classes.root}>\r\n          <Toolbar>\r\n            <Link to=\"/\" className=\"no_decoration_link\">\r\n              {ui_config.icon_on_nav ? (\r\n                <Avatar alt=\"logo\" src={ui_config.icon}>\r\n                  L\r\n                </Avatar>\r\n              ) : (\r\n                <Typography className={classes.title} variant=\"h6\" noWrap>\r\n                  {ui_config.title || \"GBStream\"}\r\n                </Typography>\r\n              )}\r\n            </Link>\r\n            <form className={classes.search} onSubmit={this.searchSubmit}>\r\n              <IconButton\r\n                onClick={this.searchSubmit}\r\n                className={classes.searchIcon}\r\n              >\r\n                <SearchIcon />\r\n              </IconButton>\r\n              <InputBase\r\n                placeholder=\"Search\"\r\n                classes={{\r\n                  root: classes.inputRoot,\r\n                  input: classes.inputInput,\r\n                }}\r\n                inputProps={{ \"aria-label\": \"search\" }}\r\n                onChange={this.searchChange}\r\n                onMouseOver={this.onMouseOver}\r\n                onMouseOut={this.onMouseOut}\r\n                value={search == null ? query : search}\r\n              />\r\n            </form>\r\n            <div className={classes.grow} />\r\n            <BrowseMenu categories={categories} />\r\n            <ThemeMenu ui_config={ui_config} />\r\n            <AccountMenu accounts={accounts} ui_config={ui_config} />\r\n          </Toolbar>\r\n        </AppBar>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(NavUI);\r\n","import React, {Component} from \"react\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport NavUI from \"./NavUI\";\r\n\r\nexport default class Nav extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      accounts: {},\r\n      auth:\r\n        window.sessionStorage.getItem(\"auth\") ||\r\n        window.localStorage.getItem(\"auth\") ||\r\n        \"0\",\r\n      categories: [],\r\n      isLoaded: false,\r\n      server:\r\n        window.sessionStorage.getItem(\"server\") ||\r\n        window.localStorage.getItem(\"server\") ||\r\n        window.location.origin,\r\n      ui_config: {},\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    let { auth, server } = this.state;\r\n\r\n    let req_path = `${server}/api/v1/environment`;\r\n    let req_args = `?a=${auth}`;\r\n\r\n    axios.get(req_path + req_args).then((response) => {\r\n      let data = response.data;\r\n      this.setState({\r\n        accounts: data.content.account_list,\r\n        categories: data.content.category_list,\r\n        isLoaded: true,\r\n        ui_config: data.content.ui_config,\r\n      });\r\n      if (typeof data.content.ui_config == \"object\") {\r\n        window.localStorage.setItem(\r\n          \"ui_config\",\r\n          JSON.stringify(data.content.ui_config)\r\n        );\r\n        window.sessionStorage.setItem(\r\n          \"ui_config\",\r\n          JSON.stringify(data.content.ui_config)\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let { accounts, categories, isLoaded } = this.state;\r\n\r\n    return isLoaded ? (\r\n      <div className=\"Nav\">\r\n        <NavUI\r\n          state={{\r\n            accounts: accounts,\r\n            categories: categories,\r\n            query: this.props.query,\r\n          }}\r\n          {...this.props}\r\n        />\r\n      </div>\r\n    ) : isLoaded ? (\r\n      <div className=\"Nav\">\r\n        <NavUI\r\n          state={{\r\n            accounts: accounts,\r\n            categories: categories,\r\n            query: this.props.query,\r\n          }}\r\n          {...this.props}\r\n        />\r\n      </div>\r\n    ) : (\r\n      <NavUI\r\n        state={{ accounts: [], categories: [], query: this.props.query }}\r\n        {...this.props}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from \"react\";\r\n\r\nimport {Nav} from \"../../components\";\r\n\r\nimport \"./index.css\";\r\n\r\nexport default class NotFound extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"NotFound\">\r\n        <Nav {...this.props} />\r\n        <div className=\"nf\">\r\n          <div className=\"fof\">\r\n            <h1>Error 404: Not Found</h1>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from \"react\";\r\n\r\nimport {Badge, Divider, IconButton, List, ListItem, ListItemText, Menu,} from \"@material-ui/core\";\r\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport {guid, theme, version} from \"../../components\";\r\n\r\nexport default class NewsMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      dismissed:\r\n        (window.localStorage.getItem(\"dismissed\") || \"false\") == \"true\",\r\n      isLoaded: false,\r\n      isNew: false,\r\n      lastChecked: new Date(\r\n        window.localStorage.getItem(\"last_news_check\") || \"0\"\r\n      ).getTime(),\r\n      menuAnchor: false,\r\n      news: JSON.parse(window.localStorage.getItem(\"news\") || \"[]\"),\r\n      now: new Date().getTime(),\r\n    };\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    let { isNew, lastChecked, news, now } = this.state;\r\n    let targetTime = lastChecked + 3 * 60 * 60 * 1000;\r\n\r\n    if (news.length && news[0].tag_name) {\r\n      if (version != news[0].tag_name.replace(\"v\", \"\")) {\r\n        isNew = true;\r\n      }\r\n    }\r\n\r\n    if (now >= targetTime) {\r\n      axios\r\n        .get(\"https://api.github.com/repos/libDrive/libDrive/releases\")\r\n        .then((response) => {\r\n          let data = response.data;\r\n          window.localStorage.setItem(\"news\", JSON.stringify(data));\r\n          window.localStorage.setItem(\"last_news_check\", now);\r\n          if (\r\n            news.length &&\r\n            data.length &&\r\n            news[0].tag_name != data[0].tag_name\r\n          ) {\r\n            window.localStorage.setItem(\"dismissed\", \"false\");\r\n            this.setState({\r\n              dismissed: false,\r\n              isLoaded: true,\r\n              isNew: isNew,\r\n              news: data,\r\n            });\r\n          } else {\r\n            this.setState({\r\n              isLoaded: true,\r\n              isNew: isNew,\r\n              news: data,\r\n            });\r\n          }\r\n        });\r\n    } else {\r\n      this.setState({ isLoaded: true, isNew: isNew });\r\n    }\r\n  }\r\n\r\n  handleClick(evt) {\r\n    let { news, now } = this.state;\r\n\r\n    this.setState({\r\n      menuAnchor: evt.currentTarget,\r\n    });\r\n\r\n    axios\r\n      .get(\"https://api.github.com/repos/libDrive/libDrive/releases\")\r\n      .then((response) => {\r\n        let data = response.data;\r\n        window.localStorage.setItem(\"news\", JSON.stringify(data));\r\n        window.localStorage.setItem(\"last_news_check\", now);\r\n        window.localStorage.setItem(\"dismissed\", \"true\");\r\n        this.setState({\r\n          dismissed: true,\r\n          news: data,\r\n        });\r\n      });\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({\r\n      menuAnchor: false,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let { dismissed, isNew, isLoaded, menuAnchor, news } = this.state;\r\n\r\n    return isLoaded ? (\r\n      <div className=\"NewsMenu\">\r\n        <IconButton\r\n          aria-label=\"more\"\r\n          aria-controls=\"news-menu\"\r\n          aria-haspopup=\"true\"\r\n          onClick={this.handleClick}\r\n        >\r\n          {!dismissed && isNew ? (\r\n            <Badge badgeContent={\"N\"} color=\"primary\">\r\n              <NotificationsIcon />\r\n            </Badge>\r\n          ) : (\r\n            <NotificationsIcon />\r\n          )}\r\n        </IconButton>\r\n        <Menu\r\n          id=\"news-menu\"\r\n          anchorEl={menuAnchor}\r\n          keepMounted\r\n          open={Boolean(menuAnchor)}\r\n          onClose={this.handleClose}\r\n        >\r\n          <List style={{ width: \"530px\", maxwidth: \"90vw\" }}>\r\n            <ListItem pri=\"true\" alignItems=\"flex-start\">\r\n              <ListItemText\r\n                primary={\r\n                  isNew ? (\r\n                    <strong style={{ color: theme.palette.warning.main }}>\r\n                      There is a new version available!\r\n                    </strong>\r\n                  ) : (\r\n                    <strong style={{ color: theme.palette.success.main }}>\r\n                      You are on the latest version\r\n                    </strong>\r\n                  )\r\n                }\r\n              />\r\n            </ListItem>\r\n            <Divider />\r\n            {news.length\r\n              ? news.slice(0, 3).map((item) => (\r\n                  <ListItem pri=\"true\" key={guid()} alignItems=\"flex-start\">\r\n                    <ListItemText\r\n                      primary={<strong>libDrive {item.tag_name}</strong>}\r\n                      secondary={\r\n                        <React.Fragment>\r\n                          <span style={{ whiteSpace: \"pre-line\" }}>\r\n                            Version: {item.tag_name}\r\n                            {\"\\n\"}\r\n                            Date: {new Date(item.published_at).toDateString()}\r\n                            {\"\\n\"}\r\n                            Info:{\" \"}\r\n                            <a\r\n                              href={item.html_url}\r\n                              target=\"_blank\"\r\n                              className=\"no_decoration_link\"\r\n                            >\r\n                              <u>\r\n                                {item.html_url.replace(\r\n                                  \"https://github.com/\",\r\n                                  \"\"\r\n                                )}\r\n                              </u>\r\n                            </a>\r\n                          </span>\r\n                        </React.Fragment>\r\n                      }\r\n                    />\r\n                  </ListItem>\r\n                ))\r\n              : null}\r\n          </List>\r\n        </Menu>\r\n      </div>\r\n    ) : null;\r\n  }\r\n}\r\n","import React, {Component} from \"react\";\r\n\r\nimport {Link, Redirect} from \"react-router-dom\";\r\n\r\nimport {Pagination, PaginationItem} from \"@material-ui/lab\";\r\nimport {withStyles} from \"@material-ui/core/styles\";\r\n\r\nimport {guid} from \"../../components\";\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    \"& > *\": {\r\n      display: \"flex\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n      margin: \"20px\",\r\n    },\r\n  },\r\n});\r\n\r\nclass PageMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = props.state;\r\n  }\r\n\r\n  render() {\r\n    let { genre, page, pages, sort } = this.state;\r\n    const { classes } = this.props;\r\n\r\n    if (page > pages) {\r\n      return (\r\n        <Redirect\r\n          to={{\r\n            pathname: this.props.props.location.pathname,\r\n            search: `?page=${pages}&genre=${genre}&sort=${sort}`,\r\n          }}\r\n          key={guid()}\r\n        />\r\n      );\r\n    } else {\r\n      return (\r\n        <div className={classes.root}>\r\n          <Pagination\r\n            page={page}\r\n            count={pages}\r\n            variant=\"outlined\"\r\n            size={\r\n              window.innerWidth >= 600\r\n                ? \"large\"\r\n                : window.innerWidth >= 390\r\n                ? \"medium\"\r\n                : \"small\"\r\n            }\r\n            color=\"primary\"\r\n            renderItem={(item) =>\r\n              item.page ? (\r\n                <Link\r\n                  to={{\r\n                    pathname: this.props.props.location.pathname,\r\n                    search: `?page=${item.page}&genre=${genre}&sort=${sort}`,\r\n                  }}\r\n                  key={guid()}\r\n                  className=\"no_decoration_link\"\r\n                >\r\n                  <PaginationItem {...item} />\r\n                </Link>\r\n              ) : (\r\n                <PaginationItem {...item} />\r\n              )\r\n            }\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(PageMenu);\r\n","import React, {Component} from \"react\";\r\n\r\nimport {Button, Divider, Menu, MenuItem} from \"@material-ui/core\";\r\nimport PlayCircleOutlineIcon from \"@material-ui/icons/PlayCircleOutline\";\r\n\r\nexport default class PlayerMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      menuAnchor: false,\r\n      ...props.state,\r\n    };\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n  }\r\n\r\n  handleClick(evt) {\r\n    this.setState({\r\n      menuAnchor: evt.currentTarget,\r\n    });\r\n  }\r\n\r\n  handleClose(evt) {\r\n    this.setState({\r\n      menuAnchor: false,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let { auth, id, isAndroid, isIOS, metadata, server } = this.state;\r\n\r\n    let mobileUrl;\r\n    const streamURL = new URL(\r\n      `${server}/api/v1/redirectdownload/${encodeURIComponent(\r\n        metadata.name\r\n      )}?a=${auth}&id=${id}`\r\n    );\r\n    if (isAndroid) {\r\n      const scheme = streamURL.protocol.slice(0, -1);\r\n      streamURL.hash = `Intent;action=android.intent.action.VIEW;scheme=${scheme};type=${\r\n        metadata.mimeType\r\n      };S.title=${encodeURIComponent(metadata.name)};end`;\r\n      streamURL.protocol = \"intent\";\r\n      mobileUrl = streamURL.toString();\r\n    } else if (isIOS) {\r\n      streamURL.host = \"x-callback-url\";\r\n      streamURL.port = \"\";\r\n      streamURL.pathname = \"stream\";\r\n      streamURL.search = `url=${server}/api/v1/redirectdownload/${encodeURIComponent(\r\n        metadata.name\r\n      )}?a=${auth}&id=${id}`;\r\n      streamURL.protocol = \"vlc-x-callback\";\r\n      mobileUrl = streamURL.toString();\r\n    }\r\n\r\n    return (\r\n      <div className=\"info__button\">\r\n        <Button\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n          style={{ width: \"135px\" }}\r\n          aria-controls=\"player-menu\"\r\n          aria-haspopup=\"true\"\r\n          onClick={this.handleClick}\r\n          startIcon={<PlayCircleOutlineIcon />}\r\n        >\r\n          Player\r\n        </Button>\r\n        <Menu\r\n          id=\"player-menu\"\r\n          anchorEl={this.state.menuAnchor}\r\n          keepMounted\r\n          anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n          transformOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n          open={Boolean(this.state.menuAnchor)}\r\n          onClose={this.handleClose}\r\n        >\r\n          {isAndroid || isIOS ? (\r\n            <div>\r\n              <a href={mobileUrl} className=\"no_decoration_link\">\r\n                <MenuItem onClick={this.handleClose}>\r\n                  {isAndroid ? \"Reproductor Externo\" : isIOS ? \"IOS selector\" : null}\r\n                </MenuItem>\r\n              </a>\r\n              <Divider />\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              <a\r\n                href={`potplayer://${server}/api/v1/redirectdownload/${encodeURIComponent(\r\n                  metadata.name\r\n                )}?a=${auth}&id=${id}`}\r\n                className=\"no_decoration_link\"\r\n              >\r\n                <MenuItem onClick={this.handleClose}>PotPlayer</MenuItem>\r\n              </a>\r\n            </div>\r\n          )}\r\n          <Divider />\r\n          <MenuItem\r\n            onClick={() => {\r\n              navigator.clipboard.writeText(\r\n                `${server}/api/v1/redirectdownload/${encodeURIComponent(\r\n                  metadata.name\r\n                )}?a=${auth}&id=${id}`\r\n              );\r\n              this.handleClose();\r\n            }}\r\n          >\r\n            Copiar URL\r\n          </MenuItem>\r\n        </Menu>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from \"react\";\r\n\r\nimport {Button} from \"@material-ui/core\";\r\nimport PlaylistPlayRoundedIcon from \"@material-ui/icons/PlaylistPlayRounded\";\r\n\r\nexport default class PlaylistMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = props.state;\r\n    this.handleClick = this.handleClick.bind(this);\r\n  }\r\n\r\n  handleClick(evt) {\r\n    let { auth, metadata, server } = this.state;\r\n    let m3u8 = `#EXTM3U\\n#EXTENC: UTF-8\\n#PLAYLIST: ${metadata.name}\\n`;\r\n\r\n    for (var i = 0; i < metadata.children.length; i++) {\r\n      m3u8 += `#EXTINF:0, ${\r\n        metadata.children[i].name\r\n      }\\n${server}/api/v1/redirectdownload/${encodeURI(\r\n        metadata.children[i].name\r\n      )}?a=${auth}&id=${metadata.children[i].id}\\n`;\r\n    }\r\n\r\n    var element = document.createElement(\"a\");\r\n    element.setAttribute(\r\n      \"href\",\r\n      \"data:text/plain;charset=utf-8,\" + encodeURIComponent(m3u8)\r\n    );\r\n    element.setAttribute(\"download\", `${metadata.name}.m3u8`);\r\n    element.style.display = \"none\";\r\n    document.body.appendChild(element);\r\n    element.click();\r\n    document.body.removeChild(element);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"info__button\">\r\n        <Button\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n          style={{ width: \"135px\" }}\r\n          onClick={this.handleClick}\r\n          startIcon={<PlaylistPlayRoundedIcon />}\r\n        >\r\n          Playlist\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from \"react\";\r\n\r\nimport {CircularProgress} from \"@material-ui/core\";\r\n\r\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\r\nimport \"@sweetalert2/theme-dark/dark.css\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport {Carousel, Footer, Nav, seo, theme} from \"../../components\";\r\n\r\nexport default class Search extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      auth:\r\n        window.sessionStorage.getItem(\"auth\") ||\r\n        window.localStorage.getItem(\"auth\") ||\r\n        \"0\",\r\n      isLoaded: false,\r\n      metadata: [],\r\n      query: this.props.match.params.q,\r\n      server:\r\n        window.sessionStorage.getItem(\"server\") ||\r\n        window.localStorage.getItem(\"server\") ||\r\n        window.location.origin,\r\n      ui_config: JSON.parse(\r\n        window.localStorage.getItem(\"ui_config\") ||\r\n          window.sessionStorage.getItem(\"ui_config\") ||\r\n          \"{}\"\r\n      ),\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    let { auth, query, server, ui_config } = this.state;\r\n\r\n    if (!auth || !server) {\r\n      this.props.history.push(\"/logout\");\r\n    }\r\n\r\n    seo({\r\n      title: `${ui_config.title || \"GBStream\"} - ${query}`,\r\n      description: `Find ${query} on ${ui_config.title || \"GBStream\"}!`,\r\n    });\r\n\r\n    let req_path = `${server}/api/v1/metadata`;\r\n    let req_args = `?a=${auth}&q=${encodeURIComponent(query)}`;\r\n\r\n    axios\r\n      .get(req_path + req_args)\r\n      .then((response) =>\r\n        this.setState({\r\n          isLoaded: true,\r\n          metadata: response.data.content,\r\n        })\r\n      )\r\n      .catch((error) => {\r\n        console.error(error);\r\n        if (error.response) {\r\n          let data = error.response.data;\r\n          if (data.code === 401) {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: data.message,\r\n              icon: \"error\",\r\n              confirmButtonText: \"Login\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              }\r\n            });\r\n          } else if (!server) {\r\n            this.props.history.push(\"/logout\");\r\n          } else {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: data.message,\r\n              icon: \"error\",\r\n              confirmButtonText: \"Logout\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n              cancelButtonText: \"Retry\",\r\n              cancelButtonColor: theme.palette.error.main,\r\n              showCancelButton: true,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              } else if (result.isDismissed) {\r\n                location.reload();\r\n              }\r\n            });\r\n          }\r\n        } else if (error.request) {\r\n          if (!server) {\r\n            this.props.history.push(\"/logout\");\r\n          } else {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: `libDrive could not communicate with the server! Is '${server}' the correct address?`,\r\n              icon: \"error\",\r\n              confirmButtonText: \"Logout\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n              cancelButtonText: \"Retry\",\r\n              cancelButtonColor: theme.palette.error.main,\r\n              showCancelButton: true,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              } else if (result.isDismissed) {\r\n                location.reload();\r\n              }\r\n            });\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    seo();\r\n  }\r\n\r\n  render() {\r\n    let { isLoaded, metadata, query } = this.state;\r\n\r\n    return isLoaded ? (\r\n      <div className=\"Search\">\r\n        <Nav {...this.props} query={query} />\r\n        <Carousel metadata={metadata} hide={true} />\r\n        <Footer />\r\n      </div>\r\n    ) : (\r\n      <div className=\"Loading\">\r\n        <CircularProgress />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","export default function seo(data = {}) {\r\n  const ui_config = JSON.parse(\r\n    window.localStorage.getItem(\"ui_config\") ||\r\n      window.sessionStorage.getItem(\"ui_config\") ||\r\n      \"{}\"\r\n  );\r\n  data.title = data.title || ui_config.title || \"GBStream\";\r\n  data.description =\r\n    data.description ||\r\n    \"GBStream es la mejor plataforma para ver pelculas y series espaol latino, full hd, la mejor calidad, los mejores servidores\";\r\n  data.image = data.image || ui_config.icon || \"/images/icons/icon-512x512.png\";\r\n  data.type = data.type || \"website\";\r\n  document.title = data.title || ui_config.title;\r\n  document\r\n    .querySelector('meta[property=\"og:title\"]')\r\n    .setAttribute(\"content\", data.title);\r\n  document\r\n    .querySelector('meta[name=\"description\"]')\r\n    .setAttribute(\"content\", data.description);\r\n  document\r\n    .querySelector('meta[property=\"og:description\"]')\r\n    .setAttribute(\"content\", data.description);\r\n  document\r\n    .querySelector('meta[property=\"og:image\"]')\r\n    .setAttribute(\"content\", data.image);\r\n  document\r\n    .querySelector('meta[property=\"og:type\"]')\r\n    .setAttribute(\"content\", data.type);\r\n}\r\n","import {createTheme} from \"@material-ui/core/styles\";\r\n\r\nconst lightTheme = createTheme({\r\n  palette: {\r\n    type: \"light\",\r\n    primary: {\r\n      main: \"#4197fe\",\r\n    },\r\n    secondary: {\r\n      main: \"#68a0e5\",\r\n    },\r\n    error: {\r\n      main: \"#d32f2f\",\r\n    },\r\n    warning: {\r\n      main: \"#ff9800\",\r\n    },\r\n    success: {\r\n      main: \"#4caf50\",\r\n    },\r\n    background: {\r\n      default: \"#fafafa\",\r\n      paper: \"#e8e8e8\",\r\n    },\r\n    text: {\r\n      primary: \"#0f0f0f\",\r\n    },\r\n    common: {\r\n      main: \"#000000\",\r\n    },\r\n  },\r\n});\r\n\r\nconst darkTheme = createTheme({\r\n  palette: {\r\n    type: \"dark\",\r\n    primary: {\r\n      main: \"#4197fe\",\r\n    },\r\n    secondary: {\r\n      main: \"#68a0e5\",\r\n    },\r\n    error: {\r\n      main: \"#d32f2f\",\r\n    },\r\n    warning: {\r\n      main: \"#ff9800\",\r\n    },\r\n    success: {\r\n      main: \"#4caf50\",\r\n    },\r\n    background: {\r\n      default: \"#000000\",\r\n      paper: \"#000000\",\r\n    },\r\n    text: {\r\n      primary: \"#e8e6e3\",\r\n    },\r\n    common: {\r\n      main: \"#ffffff\",\r\n    },\r\n  },\r\n});\r\n\r\nconst draculaTheme = createTheme({\r\n  palette: {\r\n    type: \"dark\",\r\n    primary: {\r\n      main: \"#6272a4\",\r\n    },\r\n    secondary: {\r\n      main: \"#44475a\",\r\n    },\r\n    error: {\r\n      main: \"#ffb86c\",\r\n    },\r\n    warning: {\r\n      main: \"#ff5555\",\r\n    },\r\n    success: {\r\n      main: \"#50fa7b\",\r\n    },\r\n    background: {\r\n      default: \"#282a36\",\r\n      paper: \"#242630\",\r\n    },\r\n    text: {\r\n      primary: \"#f8f8f2\",\r\n    },\r\n    common: {\r\n      main: \"#6272a4\",\r\n    },\r\n  },\r\n});\r\n\r\nconst nordTheme = createTheme({\r\n  palette: {\r\n    type: \"dark\",\r\n    primary: {\r\n      main: \"#5E81AC\",\r\n    },\r\n    secondary: {\r\n      main: \"#88C0D0\",\r\n    },\r\n    error: {\r\n      main: \"#BF616A\",\r\n    },\r\n    warning: {\r\n      main: \"#EBCB8B\",\r\n    },\r\n    success: {\r\n      main: \"#A3BE8C\",\r\n    },\r\n    background: {\r\n      default: \"#2E3440\",\r\n      paper: \"#3B4252\",\r\n    },\r\n    text: {\r\n      primary: \"#ECEFF4\",\r\n    },\r\n    common: {\r\n      main: \"#81A1C1\",\r\n    },\r\n  },\r\n});\r\n\r\nconst ui_config = JSON.parse(\r\n  window.localStorage.getItem(\"ui_config\") ||\r\n    window.sessionStorage.getItem(\"ui_config\") ||\r\n    \"{}\"\r\n);\r\nvar customTheme;\r\nif (ui_config.custom_theme) {\r\n  customTheme = createTheme(ui_config.custom_theme);\r\n}\r\n\r\nvar theme;\r\n\r\nif (\r\n  window.localStorage.getItem(\"theme\") === \"light\" ||\r\n  window.sessionStorage.getItem(\"theme\") === \"light\"\r\n) {\r\n  theme = lightTheme;\r\n} else if (\r\n  window.localStorage.getItem(\"theme\") === \"dark\" ||\r\n  window.sessionStorage.getItem(\"theme\") === \"dark\"\r\n) {\r\n  theme = darkTheme;\r\n} else if (\r\n  window.localStorage.getItem(\"theme\") === \"dracula\" ||\r\n  window.sessionStorage.getItem(\"theme\") === \"dracula\"\r\n) {\r\n  theme = draculaTheme;\r\n} else if (\r\n  window.localStorage.getItem(\"theme\") === \"nord\" ||\r\n  window.sessionStorage.getItem(\"theme\") === \"nord\"\r\n) {\r\n  theme = nordTheme;\r\n} else if (\r\n  window.localStorage.getItem(\"theme\") === \"custom\" ||\r\n  window.sessionStorage.getItem(\"theme\") === \"custom\"\r\n) {\r\n  theme = customTheme;\r\n} else {\r\n  theme = darkTheme;\r\n  window.localStorage.setItem(\"theme\", \"dark\");\r\n  window.sessionStorage.setItem(\"theme\", \"dark\");\r\n}\r\n\r\nexport default theme;\r\n","import React, {Component} from \"react\";\r\n\r\nimport {Button, CircularProgress, Switch, TextField} from \"@material-ui/core\";\r\nimport {withStyles} from \"@material-ui/core/styles\";\r\n\r\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\r\nimport \"@sweetalert2/theme-dark/dark.css\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport {Footer, Nav, theme} from \"../../components\";\r\n\r\nconst styles = (theme) => ({\r\n  Form: {\r\n    textAlign: \"center\",\r\n    \"& .MuiTextField-root\": {\r\n      width: \"30ch\",\r\n      margin: theme.spacing(1),\r\n      textAlign: \"left\",\r\n    },\r\n    \"& .MuiTypography-root\": {\r\n      margin: \"30px 30px\",\r\n    },\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(4, 0, 2),\r\n    width: \"20ch\",\r\n  },\r\n});\r\n\r\nexport class Settings extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      auth:\r\n        window.sessionStorage.getItem(\"auth\") ||\r\n        window.localStorage.getItem(\"auth\") ||\r\n        \"0\",\r\n      error: \"\",\r\n      isLoaded: false,\r\n      secret: window.sessionStorage.getItem(\"secret\"),\r\n      server:\r\n        window.sessionStorage.getItem(\"server\") ||\r\n        window.localStorage.getItem(\"server\") ||\r\n        window.location.origin,\r\n    };\r\n\r\n    this.dismissError = this.dismissError.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleRestart = this.handleRestart.bind(this);\r\n    this.handleKillSwitch = this.handleKillSwitch.bind(this);\r\n    this.handleRebuild = this.handleRebuild.bind(this);\r\n    this.handleFileBrowser = this.handleFileBrowser.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    let { secret, server } = this.state;\r\n\r\n    let navProps = { ...this.props };\r\n    navProps.classes = {};\r\n\r\n    if (window.sessionStorage.getItem(\"secret\") == null) {\r\n      this.props.history.push(\"/settings/login\");\r\n    } else {\r\n      let req_path = `${server}/api/v1/config`;\r\n      let req_args = `?secret=${encodeURIComponent(secret)}`;\r\n\r\n      axios\r\n        .get(req_path + req_args)\r\n        .then((response) =>\r\n          this.setState({\r\n            config: JSON.stringify(response.data.content, null, 4),\r\n            isLoaded: true,\r\n            navProps: navProps,\r\n            tempSecret: response.data.content.secret_key,\r\n          })\r\n        )\r\n        .catch((error) => {\r\n          console.error(error);\r\n          if (error.response) {\r\n            let data = error.response.data;\r\n            if (data.code === 401) {\r\n              Swal.fire({\r\n                title: \"Error!\",\r\n                text: data.message,\r\n                icon: \"error\",\r\n                confirmButtonText: \"Login\",\r\n                confirmButtonColor: theme.palette.success.main,\r\n              }).then((result) => {\r\n                if (result.isConfirmed) {\r\n                  this.props.history.push(\"/logout\");\r\n                }\r\n              });\r\n            } else if (!server) {\r\n              this.props.history.push(\"/logout\");\r\n            } else {\r\n              Swal.fire({\r\n                title: \"Error!\",\r\n                text: data.message,\r\n                icon: \"error\",\r\n                confirmButtonText: \"Logout\",\r\n                confirmButtonColor: theme.palette.success.main,\r\n                cancelButtonText: \"Retry\",\r\n                cancelButtonColor: theme.palette.error.main,\r\n                showCancelButton: true,\r\n              }).then((result) => {\r\n                if (result.isConfirmed) {\r\n                  this.props.history.push(\"/logout\");\r\n                } else if (result.isDismissed) {\r\n                  location.reload();\r\n                }\r\n              });\r\n            }\r\n          } else if (error.request) {\r\n            if (!server) {\r\n              this.props.history.push(\"/logout\");\r\n            } else {\r\n              Swal.fire({\r\n                title: \"Error!\",\r\n                text: `libDrive could not communicate with the server! Is '${server}' the correct address?`,\r\n                icon: \"error\",\r\n                confirmButtonText: \"Logout\",\r\n                confirmButtonColor: theme.palette.success.main,\r\n                cancelButtonText: \"Retry\",\r\n                cancelButtonColor: theme.palette.error.main,\r\n                showCancelButton: true,\r\n              }).then((result) => {\r\n                if (result.isConfirmed) {\r\n                  this.props.history.push(\"/logout\");\r\n                } else if (result.isDismissed) {\r\n                  location.reload();\r\n                }\r\n              });\r\n            }\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  dismissError() {\r\n    this.setState({ error: \"\" });\r\n  }\r\n\r\n  handleRestart(evt) {\r\n    evt.preventDefault();\r\n    let { secret, server } = this.state;\r\n\r\n    let req_path = `${server}/api/v1/restart`;\r\n    let req_args = `?secret=${encodeURIComponent(secret)}`;\r\n\r\n    axios\r\n      .get(req_path + req_args)\r\n      .then((response) => {\r\n        Swal.fire({\r\n          title: \"Success!\",\r\n          text: response.data.message,\r\n          icon: \"success\",\r\n          confirmButtonText: \"OK\",\r\n          confirmButtonColor: theme.palette.success.main,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        Swal.fire({\r\n          title: \"Success!\",\r\n          text: \"libDrive is being restarted, this might take some time, so the app won't load\",\r\n          icon: \"success\",\r\n          confirmButtonText: \"OK\",\r\n          confirmButtonColor: theme.palette.success.main,\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    let { secret, server } = this.state;\r\n\r\n    let req_path = `${server}/api/v1/config`;\r\n    let req_args = `?secret=${encodeURIComponent(secret)}`;\r\n\r\n    axios\r\n      .post(req_path + req_args, JSON.parse(this.state.config))\r\n      .then((response) => {\r\n        Swal.fire({\r\n          title: \"Success!\",\r\n          text: response.data.message,\r\n          icon: \"success\",\r\n          confirmButtonText: \"OK\",\r\n          confirmButtonColor: theme.palette.success.main,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        if (error.response) {\r\n          let data = error.response.data;\r\n          if (data.code === 401) {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: data.message,\r\n              icon: \"error\",\r\n              confirmButtonText: \"Logout\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                window.sessionStorage.removeItem(\"secret\");\r\n                this.props.history.push(\"/settings/login\");\r\n              }\r\n            });\r\n          } else {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: data.message,\r\n              icon: \"error\",\r\n              confirmButtonText: \"Logout\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n              cancelButtonText: \"Retry\",\r\n              cancelButtonColor: theme.palette.error.main,\r\n              showCancelButton: true,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              } else if (result.isDismissed) {\r\n                location.reload();\r\n              }\r\n            });\r\n          }\r\n        } else if (error.request) {\r\n          Swal.fire({\r\n            title: \"Error!\",\r\n            text: `libDrive could not communicate with the server! Is ${server} the correct address?`,\r\n            icon: \"error\",\r\n            confirmButtonText: \"Logout\",\r\n            confirmButtonColor: theme.palette.success.main,\r\n            cancelButtonText: \"Retry\",\r\n            cancelButtonColor: theme.palette.error.main,\r\n            showCancelButton: true,\r\n          }).then((result) => {\r\n            if (result.isConfirmed) {\r\n              this.props.history.push(\"/logout\");\r\n            } else if (result.isDismissed) {\r\n              location.reload();\r\n            }\r\n          });\r\n        }\r\n      });\r\n  }\r\n\r\n  handleChange(evt) {\r\n    this.setState({\r\n      config: evt.target.value,\r\n    });\r\n  }\r\n\r\n  handleKillSwitch(evt) {\r\n    let config = JSON.parse(this.state.config);\r\n\r\n    config.kill_switch = evt.target.checked;\r\n    this.setState({ config: JSON.stringify(config, null, 4) });\r\n    this.handleSubmit(evt);\r\n  }\r\n\r\n  handleRebuild(evt) {\r\n    let { secret, server } = this.state;\r\n\r\n    let req_path = `${server}/api/v1/rebuild`;\r\n    let req_args = `?secret=${encodeURIComponent(secret)}`;\r\n\r\n    axios\r\n      .get(req_path + req_args)\r\n      .then((response) =>\r\n        Swal.fire({\r\n          title: \"Success!\",\r\n          text: \"libDrive's metadata is being rebuilt...\",\r\n          icon: \"success\",\r\n          confirmButtonText: \"OK\",\r\n          confirmButtonColor: theme.palette.success.main,\r\n        })\r\n      )\r\n      .catch((error) => {\r\n        console.error(error);\r\n        if (auth == null || server == null) {\r\n          this.props.history.push(\"/login\");\r\n        } else if (error.response) {\r\n          if (error.response.status === 401) {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: \"Your credentials are invalid!\",\r\n              icon: \"error\",\r\n              confirmButtonText: \"Logout\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              }\r\n            });\r\n          } else {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: \"Something went wrong while communicating with the server!\",\r\n              icon: \"error\",\r\n              confirmButtonText: \"Logout\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n              cancelButtonText: \"Retry\",\r\n              cancelButtonColor: theme.palette.error.main,\r\n              showCancelButton: true,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              } else if (result.isDismissed) {\r\n                location.reload();\r\n              }\r\n            });\r\n          }\r\n        } else if (error.request) {\r\n          Swal.fire({\r\n            title: \"Error!\",\r\n            text: `libDrive could not communicate with the server! Is ${server} the correct address?`,\r\n            icon: \"error\",\r\n            confirmButtonText: \"Logout\",\r\n            confirmButtonColor: theme.palette.success.main,\r\n            cancelButtonText: \"Retry\",\r\n            cancelButtonColor: theme.palette.error.main,\r\n            showCancelButton: true,\r\n          }).then((result) => {\r\n            if (result.isConfirmed) {\r\n              this.props.history.push(\"/logout\");\r\n            } else if (result.isDismissed) {\r\n              location.reload();\r\n            }\r\n          });\r\n        }\r\n      });\r\n  }\r\n\r\n  handleFileBrowser() {\r\n    let { secret, server } = this.state;\r\n\r\n    window.open(`${server}/api/v1/debug?secret=${secret}`);\r\n  }\r\n\r\n  render() {\r\n    let { config, isLoaded, navProps } = this.state;\r\n    const { classes } = this.props;\r\n\r\n    return isLoaded ? (\r\n      <div className=\"Settings\">\r\n        <Nav {...navProps} />\r\n        <div\r\n          style={{\r\n            margin: \"auto\",\r\n            marginTop: \"50px\",\r\n            width: \"80vw\",\r\n            maxWidth: \"1500px\",\r\n          }}\r\n        >\r\n          <TextField\r\n            style={{\r\n              width: \"100%\",\r\n              backgroundColor: theme.palette.background.paper,\r\n            }}\r\n            variant=\"outlined\"\r\n            label=\"Config\"\r\n            value={config}\r\n            id=\"config-box\"\r\n            onChange={this.handleChange}\r\n            multiline\r\n            minRows={15}\r\n            maxRows={30}\r\n          />\r\n        </div>\r\n        <form\r\n          className={classes.Form}\r\n          noValidate\r\n          autoComplete=\"off\"\r\n          onSubmit={this.handleSubmit}\r\n        >\r\n          <div style={{ margin: \"30px\" }}>\r\n            <Button\r\n              style={{ margin: \"10px\", width: \"175px\" }}\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n            >\r\n              Submit Config\r\n            </Button>\r\n            <Button\r\n              style={{ margin: \"10px\", width: \"175px\" }}\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n              onClick={this.handleRestart}\r\n            >\r\n              Restart Server\r\n            </Button>\r\n            <Button\r\n              style={{ margin: \"10px\", width: \"175px\" }}\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n              onClick={this.handleRebuild}\r\n            >\r\n              Rebuild Metadata\r\n            </Button>\r\n            <Button\r\n              style={{ margin: \"10px\", width: \"175px\" }}\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n              onClick={this.handleFileBrowser}\r\n            >\r\n              File Browser\r\n            </Button>\r\n            <br />\r\n            <p\r\n              style={{\r\n                fontSize: \"16px\",\r\n                marginTop: \"10px\",\r\n                marginBotoom: \"5px\",\r\n              }}\r\n            >\r\n              Kill Switch\r\n            </p>\r\n            <Switch\r\n              checked={this.state.config.kill_switch}\r\n              onChange={this.handleKillSwitch}\r\n              color=\"primary\"\r\n              name=\"checkedB\"\r\n              inputProps={{ \"aria-label\": \"primary checkbox\" }}\r\n            />\r\n          </div>\r\n        </form>\r\n        <Footer />\r\n      </div>\r\n    ) : (\r\n      <div className=\"Loading\">\r\n        <CircularProgress />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(Settings);\r\n","import React, {Component} from \"react\";\r\n\r\nimport {Avatar, Button, CircularProgress, Container, CssBaseline, TextField, Typography,} from \"@material-ui/core\";\r\nimport {withStyles} from \"@material-ui/core/styles\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\n\r\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\r\nimport \"@sweetalert2/theme-dark/dark.css\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport {Footer, Nav, theme} from \"../../components\";\r\n\r\nconst styles = (theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n});\r\n\r\nclass SettingsLoginForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      auth:\r\n        window.sessionStorage.getItem(\"auth\") ||\r\n        window.localStorage.getItem(\"auth\") ||\r\n        \"0\",\r\n      isLoaded: false,\r\n      secret: \"\",\r\n      server:\r\n        window.sessionStorage.getItem(\"server\") ||\r\n        window.localStorage.getItem(\"server\") ||\r\n        window.location.origin,\r\n    };\r\n\r\n    this.handleSecretChange = this.handleSecretChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    let navProps = { ...this.props };\r\n    navProps.classes = {};\r\n    this.setState({ isLoaded: true, navProps: navProps });\r\n  }\r\n\r\n  handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    let { secret, server } = this.state;\r\n\r\n    let req_path = `${server}/api/v1/config`;\r\n    let req_args = `?secret=${encodeURIComponent(secret)}`;\r\n\r\n    axios\r\n      .get(req_path + req_args)\r\n      .then((response) => {\r\n        window.sessionStorage.setItem(\"secret\", secret);\r\n        this.props.history.push(\"/settings\");\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        if (error.response) {\r\n          let data = error.response.data;\r\n          if (data.code === 401) {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: data.message,\r\n              icon: \"error\",\r\n              confirmButtonText: \"OK\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n            });\r\n          } else {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: data.message,\r\n              icon: \"error\",\r\n              confirmButtonText: \"OK\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n            }).then((result) => {\r\n              location.reload();\r\n            });\r\n          }\r\n        } else if (error.request) {\r\n          Swal.fire({\r\n            title: \"Error!\",\r\n            text: \"libDrive could not communicate with the server. Is ${server} the correct address?\",\r\n            icon: \"error\",\r\n            confirmButtonText: \"Logout\",\r\n            confirmButtonColor: theme.palette.success.main,\r\n            cancelButtonText: \"Retry\",\r\n            cancelButtonColor: theme.palette.error.main,\r\n            showCancelButton: true,\r\n          }).then((result) => {\r\n            if (result.isConfirmed) {\r\n              this.props.history.push(\"/logout\");\r\n            } else if (result.isDismissed) {\r\n              location.reload();\r\n            }\r\n          });\r\n        }\r\n      });\r\n  }\r\n\r\n  handleSecretChange(evt) {\r\n    this.setState({\r\n      secret: evt.target.value,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let { isLoaded, navProps, secret } = this.state;\r\n    const { classes } = this.props;\r\n\r\n    return isLoaded ? (\r\n      <div className=\"SettingsLoginForm\">\r\n        <Nav {...navProps} />\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n          <CssBaseline />\r\n          <div className={classes.paper}>\r\n            <Avatar className={classes.avatar}>\r\n              <LockOutlinedIcon />\r\n            </Avatar>\r\n            <Typography variant=\"h5\">Settings Login</Typography>\r\n            <form\r\n              className={classes.form}\r\n              onSubmit={this.handleSubmit}\r\n              noValidate\r\n            >\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                fullWidth\r\n                id=\"secret\"\r\n                label=\"Secret\"\r\n                name=\"secret\"\r\n                type=\"password\"\r\n                autoComplete=\"secret\"\r\n                onChange={this.handleSecretChange}\r\n                value={secret}\r\n                required\r\n                autoFocus\r\n              />\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n              >\r\n                Sign In\r\n              </Button>\r\n            </form>\r\n          </div>\r\n        </Container>\r\n        <Footer />\r\n      </div>\r\n    ) : (\r\n      <div className=\"Loading\">\r\n        <CircularProgress />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(SettingsLoginForm);\r\n","import React, {Component} from \"react\";\r\n\r\nimport {Link} from \"react-router-dom\";\r\n\r\nimport {Divider, FormControl, InputLabel, MenuItem, Select,} from \"@material-ui/core\";\r\nimport {withStyles} from \"@material-ui/core/styles\";\r\n\r\nimport {guid} from \"../../components\";\r\n\r\nimport \"./index.css\";\r\n\r\nclass SortMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = props.state;\r\n    this.formatSort = this.formatSort.bind(this);\r\n  }\r\n\r\n  formatSort(str) {\r\n    if (!str) {\r\n      return \"Sort\";\r\n    }\r\n    let str_split = str.split(\"-\");\r\n    for (var i = 0; i < str_split.length; i++) {\r\n      if (str_split[i] == \"asc\") {\r\n        str_split[i] = \"ascending\";\r\n      } else if (str_split[i] == \"des\") {\r\n        str_split[i] = \"descending\";\r\n      }\r\n      str_split[i] =\r\n        str_split[i].charAt(0).toUpperCase() + str_split[i].substring(1);\r\n    }\r\n    return str_split.join(\" \");\r\n  }\r\n\r\n  render() {\r\n    let { genre, sort } = this.state;\r\n    const genres = [\r\n      \"Action\",\r\n      \"Action & Adventure\",\r\n      \"Adventure\",\r\n      \"Animation\",\r\n      \"Comedy\",\r\n      \"Crime\",\r\n      \"Documentary\",\r\n      \"Drama\",\r\n      \"Ecchi\",\r\n      \"Family\",\r\n      \"Fantasy\",\r\n      \"Hentai\",\r\n      \"History\",\r\n      \"Horror\",\r\n      \"Kids\",\r\n      \"Mahou Shoujo\",\r\n      \"Mecha\",\r\n      \"Music\",\r\n      \"Mystery\",\r\n      \"News\",\r\n      \"Psychological\",\r\n      \"Reality\",\r\n      \"Romance\",\r\n      \"Sci-Fi\",\r\n      \"Sci-Fi & Fantasy\",\r\n      \"Science Fiction\",\r\n      \"Slice of Life\",\r\n      \"Soap\",\r\n      \"Sports\",\r\n      \"Supernatural\",\r\n      \"TV Movie\",\r\n      \"Talk\",\r\n      \"Thriller\",\r\n      \"War\",\r\n      \"War & Politics\",\r\n      \"Western\",\r\n    ];\r\n\r\n    return (\r\n      <div className=\"SortMenu\">\r\n        <FormControl variant=\"outlined\" className=\"sort__container\">\r\n          <InputLabel id=\"sort-menu-label\">\r\n            {this.formatSort(sort) || \"Sort\"}\r\n          </InputLabel>\r\n          <Select\r\n            labelId=\"sort-menu-label\"\r\n            id=\"sort-menu\"\r\n            value=\"\"\r\n            label={this.formatSort(sort) || \"Sort\"}\r\n          >\r\n            <Link\r\n              to={{\r\n                pathname: this.props.props.location.pathname,\r\n                search: `?sort=alphabet-asc&genre=${genre}`,\r\n              }}\r\n              key={guid()}\r\n              className=\"no_decoration_link\"\r\n            >\r\n              <MenuItem>Alphabet Ascending</MenuItem>\r\n            </Link>\r\n            <Link\r\n              to={{\r\n                pathname: this.props.props.location.pathname,\r\n                search: `?sort=alphabet-des&genre=${genre}`,\r\n              }}\r\n              key={guid()}\r\n              className=\"no_decoration_link\"\r\n            >\r\n              <MenuItem>Alphabet Descending</MenuItem>\r\n            </Link>\r\n            <Link\r\n              to={{\r\n                pathname: this.props.props.location.pathname,\r\n                search: `?sort=date-asc&genre=${genre}`,\r\n              }}\r\n              key={guid()}\r\n              className=\"no_decoration_link\"\r\n            >\r\n              <MenuItem>Date Ascending</MenuItem>\r\n            </Link>\r\n            <Link\r\n              to={{\r\n                pathname: this.props.props.location.pathname,\r\n                search: `?sort=date-des&genre=${genre}`,\r\n              }}\r\n              key={guid()}\r\n              className=\"no_decoration_link\"\r\n            >\r\n              <MenuItem>Date Descending</MenuItem>\r\n            </Link>\r\n            <Link\r\n              to={{\r\n                pathname: this.props.props.location.pathname,\r\n                search: `?sort=popularity-asc&genre=${genre}`,\r\n              }}\r\n              key={guid()}\r\n              className=\"no_decoration_link\"\r\n            >\r\n              <MenuItem>Popularity Ascending</MenuItem>\r\n            </Link>\r\n            <Link\r\n              to={{\r\n                pathname: this.props.props.location.pathname,\r\n                search: `?sort=popularity-des&genre=${genre}`,\r\n              }}\r\n              key={guid()}\r\n              className=\"no_decoration_link\"\r\n            >\r\n              <MenuItem>Popularity Descending</MenuItem>\r\n            </Link>\r\n            <Link\r\n              to={{\r\n                pathname: this.props.props.location.pathname,\r\n                search: `?sort=vote-asc&genre=${genre}`,\r\n              }}\r\n              key={guid()}\r\n              className=\"no_decoration_link\"\r\n            >\r\n              <MenuItem>Vote Ascending</MenuItem>\r\n            </Link>\r\n            <Link\r\n              to={{\r\n                pathname: this.props.props.location.pathname,\r\n                search: `?sort=vote-des&genre=${genre}`,\r\n              }}\r\n              key={guid()}\r\n              className=\"no_decoration_link\"\r\n            >\r\n              <MenuItem>Vote Descending</MenuItem>\r\n            </Link>\r\n            <Link\r\n              to={{\r\n                pathname: this.props.props.location.pathname,\r\n                search: `?sort=random&genre=${genre}`,\r\n              }}\r\n              key={guid()}\r\n              className=\"no_decoration_link\"\r\n            >\r\n              <MenuItem>Random</MenuItem>\r\n            </Link>\r\n          </Select>\r\n        </FormControl>\r\n        <FormControl variant=\"outlined\" className=\"sort__container\">\r\n          <InputLabel id=\"genre-menu-label\">{genre || \"Genre\"}</InputLabel>\r\n          <Select\r\n            labelId=\"genre-menu-label\"\r\n            id=\"genre-menu\"\r\n            value=\"\"\r\n            label={genre || \"Genre\"}\r\n          >\r\n            <Link\r\n              to={{\r\n                pathname: this.props.props.location.pathname,\r\n                search: `?sort=&genre=${genre}`,\r\n              }}\r\n              key={guid()}\r\n              className=\"no_decoration_link\"\r\n            >\r\n              <MenuItem>All</MenuItem>\r\n            </Link>\r\n            <Divider />\r\n            {genres.map((genre) => (\r\n              <Link\r\n                to={{\r\n                  pathname: this.props.props.location.pathname,\r\n                  search: `?sort=${sort}&genre=${genre}`,\r\n                }}\r\n                key={guid()}\r\n                className=\"no_decoration_link\"\r\n              >\r\n                <MenuItem>{genre}</MenuItem>\r\n              </Link>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles({ withTheme: true })(SortMenu);\r\n","import React, {Component} from \"react\";\r\nimport {\r\n    Avatar,\r\n    Button,\r\n    Dialog,\r\n    DialogActions,\r\n    DialogContent,\r\n    DialogContentText,\r\n    DialogTitle,\r\n    List,\r\n    ListItem,\r\n    ListItemAvatar,\r\n    ListItemText,\r\n    TextField,\r\n} from \"@material-ui/core\";\r\nimport ListIcon from \"@material-ui/icons/List\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport {theme} from \"../../components\";\r\n\r\nexport default class StarDialog extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { ...props.state, isCreateOpen: false };\r\n    this.handleCreateClose = this.handleCreateClose.bind(this);\r\n    this.handleCreateChange = this.handleCreateChange.bind(this);\r\n    this.handleCreateSubmit = this.handleCreateSubmit.bind(this);\r\n    this.handleListItemClick = this.handleListItemClick.bind(this);\r\n  }\r\n\r\n  handleCreateClose(evt) {\r\n    this.setState({ isCreateOpen: false });\r\n  }\r\n\r\n  handleCreateChange(evt) {\r\n    this.setState({ createValue: evt.target.value });\r\n  }\r\n\r\n  handleCreateSubmit() {\r\n    let { createValue } = this.state;\r\n    let starred_lists = JSON.parse(\r\n      window.localStorage.getItem(\"starred_lists\") || \"[]\"\r\n    );\r\n    let n = starred_lists.findIndex((i) => i.name == createValue);\r\n\r\n    if (n == -1) {\r\n      let metadata = {\r\n        categoryInfo: {\r\n          id: \"starred\",\r\n          name: createValue,\r\n          type: \"Starred\",\r\n        },\r\n        name: createValue,\r\n        children: [],\r\n        type: \"Starred\",\r\n      };\r\n      starred_lists.push(metadata);\r\n      window.localStorage.setItem(\r\n        \"starred_lists\",\r\n        JSON.stringify(starred_lists)\r\n      );\r\n      this.setState({ isCreateOpen: false, starred_lists: starred_lists });\r\n    } else {\r\n      this.setState({ isCreateOpen: false });\r\n    }\r\n  }\r\n\r\n  handleListItemClick(s, n) {\r\n    if (s == \"createStarredList\" && n == -1) {\r\n      this.setState({ isCreateOpen: true });\r\n    } else {\r\n      let { metadata } = this.props;\r\n      let starred_lists = JSON.parse(\r\n        window.localStorage.getItem(\"starred_lists\") || \"[]\"\r\n      );\r\n      let i = starred_lists[n].children.findIndex((i) => i.id == metadata.id);\r\n      if (i == -1) {\r\n        starred_lists[n].children.unshift(metadata);\r\n        window.localStorage.setItem(\r\n          \"starred_lists\",\r\n          JSON.stringify(starred_lists)\r\n        );\r\n        this.props.handleClose(\"unstarred\");\r\n        this.setState({ starred_lists: starred_lists });\r\n      } else {\r\n        starred_lists[n].children.splice(i, 1);\r\n        window.localStorage.setItem(\r\n          \"starred_lists\",\r\n          JSON.stringify(starred_lists)\r\n        );\r\n        this.props.handleClose();\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { isOpen, metadata } = this.props;\r\n    let { isCreateOpen } = this.state;\r\n    let starred_lists = JSON.parse(\r\n      window.localStorage.getItem(\"starred_lists\") || \"[]\"\r\n    );\r\n\r\n    return (\r\n      <div>\r\n        <Dialog\r\n          onClose={this.props.handleClose}\r\n          aria-labelledby=\"simple-dialog-title\"\r\n          open={isOpen}\r\n        >\r\n          <DialogTitle id=\"simple-dialog-title\">\r\n            Select starred list\r\n          </DialogTitle>\r\n          <List>\r\n            {starred_lists && starred_lists.length\r\n              ? starred_lists.map((s, n) => (\r\n                  <ListItem\r\n                    button\r\n                    onClick={() => this.handleListItemClick(s, n)}\r\n                    key={s.name}\r\n                  >\r\n                    <ListItemAvatar>\r\n                      <Avatar\r\n                        style={\r\n                          s.children.some((x) => x.id == metadata.id)\r\n                            ? { backgroundColor: theme.palette.success.main }\r\n                            : null\r\n                        }\r\n                      >\r\n                        <ListIcon />\r\n                      </Avatar>\r\n                    </ListItemAvatar>\r\n                    <ListItemText primary={s.name} />\r\n                  </ListItem>\r\n                ))\r\n              : null}\r\n\r\n            <br />\r\n            <ListItem\r\n              autoFocus\r\n              button\r\n              onClick={() => this.handleListItemClick(\"createStarredList\", -1)}\r\n            >\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <AddIcon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"Create starred list\" />\r\n            </ListItem>\r\n          </List>\r\n        </Dialog>\r\n        <Dialog\r\n          open={isCreateOpen}\r\n          onClose={this.handleCreateClose}\r\n          aria-labelledby=\"form-dialog-title\"\r\n        >\r\n          <DialogTitle id=\"form-dialog-title\">Create starred list</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText>\r\n              Enter the starred list's name in the form below.\r\n            </DialogContentText>\r\n            <TextField\r\n              autoFocus\r\n              margin=\"dense\"\r\n              id=\"name\"\r\n              label=\"Name\"\r\n              type=\"text\"\r\n              onChange={this.handleCreateChange}\r\n              fullWidth\r\n            />\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleCreateClose} color=\"primary\">\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={this.handleCreateSubmit} color=\"primary\">\r\n              Create\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from \"react\";\r\n\r\nimport {Carousel, Footer, Nav} from \"../../components\";\r\n\r\nexport default class StarredLists extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      starred_lists: JSON.parse(window.localStorage.getItem(\"starred_lists\") || \"[]\"),\r\n    };\r\n  }\r\n\r\n  render() {\r\n    let { starred_lists } = this.state;\r\n\r\n    return (\r\n      <div className=\"StarredLists\">\r\n        <Nav {...this.props} />\r\n        <Carousel metadata={starred_lists} star={true} />\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from \"react\";\r\n\r\nimport {Divider, IconButton, Menu, MenuItem} from \"@material-ui/core\";\r\nimport Brightness6Icon from \"@material-ui/icons/Brightness6\";\r\n\r\nexport default class ThemeMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      menuAnchor: false,\r\n      ui_config: props.ui_config,\r\n    };\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.handleTheme = this.handleTheme.bind(this);\r\n  }\r\n\r\n  handleClick(evt) {\r\n    this.setState({\r\n      menuAnchor: evt.currentTarget,\r\n    });\r\n  }\r\n\r\n  handleClose(evt) {\r\n    this.setState({\r\n      menuAnchor: false,\r\n    });\r\n  }\r\n\r\n  handleTheme(name) {\r\n    this.setState({\r\n      menuAnchor: false,\r\n    });\r\n    window.localStorage.setItem(\"theme\", name);\r\n    window.sessionStorage.setItem(\"theme\", name);\r\n    window.location.reload();\r\n  }\r\n\r\n  render() {\r\n    let { menuAnchor, ui_config } = this.state;\r\n\r\n    return (\r\n      <div className=\"ThemeMenu\">\r\n        <IconButton\r\n          aria-label=\"more\"\r\n          aria-controls=\"theme-menu\"\r\n          aria-haspopup=\"true\"\r\n          onClick={this.handleClick}\r\n        >\r\n          <Brightness6Icon />\r\n        </IconButton>\r\n        <Menu\r\n          id=\"theme-menu\"\r\n          anchorEl={menuAnchor}\r\n          anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n          transformOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n          keepMounted\r\n          open={Boolean(menuAnchor)}\r\n          onClose={this.handleClose}\r\n        >\r\n          <MenuItem onClick={() => this.handleTheme(\"light\")}>Light</MenuItem>\r\n          <MenuItem onClick={() => this.handleTheme(\"dark\")}>Dark</MenuItem>\r\n          <MenuItem onClick={() => this.handleTheme(\"dracula\")}>\r\n            Dracula\r\n          </MenuItem>\r\n          <MenuItem onClick={() => this.handleTheme(\"nord\")}>Nord</MenuItem>\r\n          {ui_config.custom_theme ? (\r\n            <div>\r\n              <Divider />\r\n              <MenuItem onClick={() => this.handleTheme(\"custom\")}>\r\n                Custom\r\n              </MenuItem>\r\n            </div>\r\n          ) : null}\r\n        </Menu>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from \"react\";\r\n\r\nimport {Link} from \"react-router-dom\";\r\n\r\nimport {Typography} from \"@material-ui/core\";\r\n\r\nimport {guid} from \"../../components\";\r\nimport \"./index.css\";\r\n\r\nexport default class Tile extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      metadata: this.props.metadata,\r\n      server:\r\n        window.sessionStorage.getItem(\"server\") ||\r\n        window.localStorage.getItem(\"server\") ||\r\n        window.location.origin,\r\n    };\r\n  }\r\n\r\n  render() {\r\n    let { metadata, server } = this.state;\r\n\r\n    return (\r\n      <div className=\"Tile\">\r\n        {metadata.length\r\n          ? metadata.map((category) => (\r\n              <div className=\"tile__category\" key={guid()}>\r\n                <Link\r\n                  to={`/browse/${category.categoryInfo.name}`}\r\n                  key={guid()}\r\n                  className=\"tile__category__title no_decoration_link\"\r\n                >\r\n                  {category.categoryInfo.name}\r\n                </Link>\r\n                <div className=\"tile__items\">\r\n                  {category.children.length\r\n                    ? category.children.map((item) => (\r\n                        <figure className=\"tile__item__figure\" key={guid()}>\r\n                          <Link\r\n                            to={`/view/${item.type == \"file\" ? \"m\" : \"tb\"}/${\r\n                              item.id\r\n                            }`}\r\n                            key={guid()}\r\n                          >\r\n                            <img\r\n                              src={\r\n                                item.posterPath ||\r\n                                `${server}/api/v1/image/poster?text=${item.title}&extention=jpeg`\r\n                              }\r\n                              key={guid()}\r\n                              className=\"tile__item__poster\"\r\n                              alt={item.title}\r\n                            />\r\n                          </Link>\r\n                          <Typography\r\n                            className=\"tile__item__title\"\r\n                            key={guid()}\r\n                          >\r\n                            {item.title}\r\n                          </Typography>\r\n                        </figure>\r\n                      ))\r\n                    : null}\r\n                </div>\r\n              </div>\r\n            ))\r\n          : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from \"react\";\r\nimport {Dialog, DialogTitle} from \"@material-ui/core\";\r\n\r\nexport default class StarDialog extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { ...props.state, isCreateOpen: false };\r\n  }\r\n\r\n  render() {\r\n    let { isOpen, metadata, trailer } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Dialog\r\n          onClose={this.props.handleClose}\r\n          aria-labelledby=\"simple-dialog-title\"\r\n          fullWidth={true}\r\n          maxWidth={\"lg\"}\r\n          open={isOpen || false}\r\n        >\r\n          <DialogTitle id=\"simple-dialog-title\">\r\n            {metadata.title} - Trailer\r\n          </DialogTitle>\r\n          <div style={{ padding: \"0 30px 30px 30px\", height: \"70vh\" }}>\r\n            <iframe\r\n              style={{ width: \"100%\", height: \"100%\", borderRadius: \"12px\" }}\r\n              src={`https://www.youtube.com/embed/${trailer.key}`}\r\n              title={`${metadata.title} - Trailer`}\r\n              frameBorder=\"0\"\r\n              allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen;\"\r\n              allowFullScreen\r\n            ></iframe>\r\n          </div>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from \"react\";\r\n\r\nimport {Link} from \"react-router-dom\";\r\n\r\nimport {\r\n    Avatar,\r\n    Button,\r\n    Chip,\r\n    ClickAwayListener,\r\n    Divider,\r\n    IconButton,\r\n    Menu,\r\n    MenuItem,\r\n    Tooltip,\r\n    Typography,\r\n} from \"@material-ui/core\";\r\nimport {Rating} from \"@material-ui/lab\";\r\nimport StarIcon from \"@material-ui/icons/Star\";\r\nimport StarBorderIcon from \"@material-ui/icons/StarBorder\";\r\nimport SubtitlesOutlinedIcon from \"@material-ui/icons/SubtitlesOutlined\";\r\nimport YouTubeIcon from \"@material-ui/icons/YouTube\";\r\n\r\nimport DPlayer from \"libdrive-player\";\r\nimport {default as toWebVTT} from \"srt-webvtt\";\r\n\r\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\r\nimport \"@sweetalert2/theme-dark/dark.css\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport {DownloadMenu, guid, PlayerMenu, seo, StarDialog, theme, TrailerDialog,} from \"../../../components\";\r\n\r\nexport default class MovieView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ...props.state,\r\n      subtitleMenuAnchor: false,\r\n      tooltipOpen: false,\r\n      tooltipOpen2: false,\r\n      trailer: {},\r\n    };\r\n    this.onFileChange = this.onFileChange.bind(this);\r\n    this.prettyDate = this.prettyDate.bind(this);\r\n    this.handleStar = this.handleStar.bind(this);\r\n    this.handleStarClose = this.handleStarClose.bind(this);\r\n    this.handleTrailer = this.handleTrailer.bind(this);\r\n    this.handleTrailerClose = this.handleTrailerClose.bind(this);\r\n    this.handleSubtitleMenuOpen = this.handleSubtitleMenuOpen.bind(this);\r\n    this.handleSubtitleMenuClose = this.handleSubtitleMenuClose.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    let { metadata, ui_config } = this.state;\r\n    let year = new Date().getFullYear();\r\n\r\n    seo({\r\n      title: `${ui_config.title || \"GBStream\"} - ${\r\n          metadata.title || metadata.name\r\n      } (${year}) - Espaol Latino Gratis`,\r\n      description: `Watch ${metadata.title || metadata.name} on ${\r\n          ui_config.title || \"GBStream\"\r\n      }!  ${metadata.overview}`,\r\n      image: metadata.backdropPath,\r\n      type: \"video.movie\",\r\n    });\r\n  }\r\n\r\n  async onFileChange(evt) {\r\n    if (evt.target.files.length) {\r\n      if (evt.target.files[0].name.endsWith(\".srt\")) {\r\n        const vtt = await toWebVTT(evt.target.files[0]);\r\n        this.setState({\r\n          file: vtt,\r\n          fileName: evt.target.files[0].name,\r\n          playerKey: guid(),\r\n        });\r\n      } else {\r\n        this.setState({\r\n          file: URL.createObjectURL(evt.target.files[0]),\r\n          playerKey: guid(),\r\n        });\r\n      }\r\n    } else {\r\n      this.setState({ file: null, playerKey: guid() });\r\n    }\r\n  }\r\n\r\n  prettyDate() {\r\n    let old_date = this.state.metadata.releaseDate;\r\n    let date_comp = old_date.split(\"-\");\r\n    let date = new Date(date_comp[0], date_comp[1], date_comp[2]);\r\n    return date.toDateString();\r\n  }\r\n\r\n  handleStar() {\r\n    this.setState({ openStarDialog: true });\r\n  }\r\n\r\n  handleStarClose(evt) {\r\n    if (evt == \"starred\") {\r\n      this.setState({ openStarDialog: false, starred: true });\r\n    } else if (evt == \"unstarred\") {\r\n      this.setState({\r\n        openStarDialog: false,\r\n        starred:\r\n          JSON.parse(window.localStorage.getItem(\"starred_lists\") || \"[]\").some(\r\n            (i) => i.children.some((x) => x.id == this.state.metadata.id)\r\n          ) || false,\r\n      });\r\n    } else {\r\n      this.setState({ openStarDialog: false });\r\n    }\r\n  }\r\n\r\n  handleTrailer() {\r\n    let { auth, metadata, server } = this.state;\r\n\r\n    let req_path = `${server}/api/v1/trailer/${metadata.apiId}`;\r\n    let req_args = `?a=${auth}&t=movie&api=${metadata.api}`;\r\n\r\n    axios\r\n      .get(req_path + req_args)\r\n      .then((response) =>\r\n        this.setState({\r\n          openTrailerDialog: true,\r\n          trailer: response.data.content,\r\n        })\r\n      )\r\n      .catch((error) => {\r\n        console.error(error);\r\n        if (error.response) {\r\n          let data = error.response.data;\r\n          if (data.code === 401) {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: data.message,\r\n              icon: \"error\",\r\n              confirmButtonText: \"Login\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              }\r\n            });\r\n          } else if (!server) {\r\n            this.props.history.push(\"/logout\");\r\n          } else {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: \"No trailer could be found.\",\r\n              icon: \"error\",\r\n              confirmButtonText: \"Ok\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n            });\r\n          }\r\n        } else if (error.request) {\r\n          if (!server) {\r\n            this.props.history.push(\"/logout\");\r\n          } else {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: `libDrive could not communicate with the server! Is '${server}' the correct address?`,\r\n              icon: \"error\",\r\n              confirmButtonText: \"Logout\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n              cancelButtonText: \"Retry\",\r\n              cancelButtonColor: theme.palette.error.main,\r\n              showCancelButton: true,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              } else if (result.isDismissed) {\r\n                location.reload();\r\n              }\r\n            });\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  handleTrailerClose() {\r\n    this.setState({ openTrailerDialog: false });\r\n  }\r\n\r\n  handleSubtitleMenuOpen(evt) {\r\n    let { tracks } = this.state;\r\n\r\n    if (tracks.length) {\r\n      this.setState({\r\n        subtitleMenuAnchor: evt.currentTarget,\r\n      });\r\n    } else {\r\n      const subtitleButton = document.getElementById(\"file-input-button\");\r\n      subtitleButton.click();\r\n    }\r\n  }\r\n\r\n  handleSubtitleMenuClose() {\r\n    this.setState({\r\n      subtitleMenuAnchor: false,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let {\r\n      default_track,\r\n      default_video,\r\n      file,\r\n      fileName,\r\n      metadata,\r\n      playerKey,\r\n      server,\r\n      videos,\r\n      starred,\r\n      subtitleMenuAnchor,\r\n      tracks,\r\n      tooltipOpen,\r\n      tooltipOpen2,\r\n      trailer,\r\n    } = this.state;\r\n\r\n    if (file) {\r\n      tracks = [{ name: fileName, url: file }];\r\n    }\r\n\r\n    return (\r\n      <div className=\"MovieView\">\r\n        <div className=\"plyr__component\">\r\n          <DPlayer\r\n            key={playerKey}\r\n            style={{\r\n              borderRadius: \"12px\",\r\n              borderWidth: \"5px\",\r\n              borderColor: \"black\",\r\n              borderStyle: \"solid\",\r\n            }}\r\n            options={{\r\n              video: {\r\n                quality: videos,\r\n                defaultQuality: default_video,\r\n                pic:\r\n                  metadata.backdropPath ||\r\n                  `${server}/api/v1/image/thumbnail?id=${metadata.id}`,\r\n              },\r\n              subtitle: tracks[default_track],\r\n              preload: \"auto\",\r\n              theme: theme.palette.primary.main,\r\n              contextmenu: [\r\n                {\r\n                  text: \"GBStream\",\r\n                  link: \"https://github.com/libDrive/libDrive\",\r\n                },\r\n              ],\r\n              screenshot: true,\r\n              volume: 1,\r\n              lang: \"en\",\r\n            }}\r\n          />\r\n        </div>\r\n        <div className=\"info__container\">\r\n          <div className=\"info__left\">\r\n            <img\r\n              className=\"info__poster\"\r\n              src={\r\n                metadata.posterPath ||\r\n                `${server}/api/v1/image/poster?text=${encodeURIComponent(\r\n                  metadata.title\r\n                )}&extention=jpeg`\r\n              }\r\n            />\r\n          </div>\r\n          <div className=\"info__right\">\r\n            <ClickAwayListener\r\n              onClickAway={() => this.setState({ tooltipOpen: false })}\r\n            >\r\n              <Tooltip\r\n                title={\r\n                  <Typography variant=\"subtitle2\">{metadata.name}</Typography>\r\n                }\r\n                arrow\r\n                placement=\"top-start\"\r\n                open={tooltipOpen}\r\n                disableFocusListener\r\n                disableHoverListener\r\n                disableTouchListener\r\n                onClose={() => this.setState({ tooltipOpen: false })}\r\n                PopperProps={{\r\n                  disablePortal: true,\r\n                }}\r\n              >\r\n                <Typography\r\n                  onClick={() => this.setState({ tooltipOpen: true })}\r\n                  variant=\"h3\"\r\n                  style={{ fontWeight: \"bold\" }}\r\n                  className=\"info__title\"\r\n                >\r\n                  {metadata.title}\r\n                </Typography>\r\n              </Tooltip>\r\n            </ClickAwayListener>\r\n            <Typography\r\n              variant=\"body1\"\r\n              className=\"info__overview\"\r\n              style={{ marginTop: \"30px\" }}\r\n            >\r\n              {metadata.overview}\r\n            </Typography>\r\n            <div className=\"vote__container\">\r\n              <ClickAwayListener\r\n                onClickAway={() => this.setState({ tooltipOpen2: false })}\r\n              >\r\n                <Tooltip\r\n                  title={\r\n                    <Typography variant=\"subtitle2\">\r\n                      {metadata.voteAverage}/10\r\n                    </Typography>\r\n                  }\r\n                  arrow\r\n                  placement=\"right\"\r\n                  open={tooltipOpen2}\r\n                  disableFocusListener\r\n                  disableHoverListener\r\n                  disableTouchListener\r\n                  onClose={() => this.setState({ tooltipOpen2: false })}\r\n                  PopperProps={{\r\n                    disablePortal: true,\r\n                  }}\r\n                >\r\n                  <div onClick={() => this.setState({ tooltipOpen2: true })}>\r\n                    <Rating\r\n                      name=\"Rating\"\r\n                      value={metadata.voteAverage}\r\n                      max={10}\r\n                      readOnly\r\n                    />\r\n                  </div>\r\n                </Tooltip>\r\n              </ClickAwayListener>\r\n            </div>\r\n            <div className=\"info__release\">\r\n              <IconButton onClick={this.handleStar}>\r\n                {starred ? <StarIcon /> : <StarBorderIcon />}\r\n              </IconButton>\r\n              <Typography\r\n                style={{ display: \"flex\", alignItems: \"center\" }}\r\n                variant=\"body2\"\r\n              >\r\n                {metadata.language\r\n                  ? `${this.prettyDate()} (${metadata.language.toUpperCase()})`\r\n                  : this.prettyDate()}\r\n              </Typography>\r\n            </div>\r\n            <div className=\"info__buttons\">\r\n              <PlayerMenu state={this.state} />\r\n              <DownloadMenu state={this.state} />\r\n              <div className=\"info__button\">\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  color=\"primary\"\r\n                  style={{ width: \"135px\" }}\r\n                  onClick={this.handleTrailer}\r\n                  startIcon={<YouTubeIcon />}\r\n                >\r\n                  Trailer\r\n                </Button>\r\n              </div>\r\n              <div className=\"info__button\">\r\n                <input\r\n                  id=\"file-input\"\r\n                  hidden\r\n                  onChange={this.onFileChange}\r\n                  type=\"file\"\r\n                  accept=\".vtt,.srt\"\r\n                />\r\n                <Button\r\n                  color=\"primary\"\r\n                  variant=\"outlined\"\r\n                  style={{ width: \"135px\" }}\r\n                  component=\"span\"\r\n                  aria-controls=\"subtitles-menu\"\r\n                  startIcon={<SubtitlesOutlinedIcon />}\r\n                  onClick={this.handleSubtitleMenuOpen}\r\n                >\r\n                  Subtitle\r\n                </Button>\r\n                <Menu\r\n                  id=\"subtitles-menu\"\r\n                  anchorEl={subtitleMenuAnchor}\r\n                  keepMounted\r\n                  anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n                  transformOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n                  open={Boolean(subtitleMenuAnchor)}\r\n                  onClose={this.handleSubtitleMenuClose}\r\n                >\r\n                  {tracks.length ? (\r\n                    <div>\r\n                      {tracks.map((track) => (\r\n                        <a className=\"no_decoration_link\" href={track.url}>\r\n                          <MenuItem onClick={this.handleSubtitleMenuClose}>\r\n                            {track.name}\r\n                          </MenuItem>\r\n                        </a>\r\n                      ))}\r\n                      <Divider />\r\n                    </div>\r\n                  ) : null}\r\n                  <MenuItem\r\n                    onClick={() => {\r\n                      document.getElementById(\"file-input-button\").click();\r\n                      this.setState({ subtitleMenuAnchor: false });\r\n                    }}\r\n                  >\r\n                    Upload\r\n                  </MenuItem>\r\n                </Menu>\r\n                <label htmlFor=\"file-input\" id=\"file-input-button\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"info__genres\">\r\n              {metadata.adult ? (\r\n                <Chip\r\n                  color=\"secondary\"\r\n                  avatar={<Avatar>E</Avatar>}\r\n                  className=\"info__genre\"\r\n                  label={\"Adult (18+)\"}\r\n                  variant=\"outlined\"\r\n                />\r\n              ) : null}\r\n              {metadata.genres && metadata.genres.length\r\n                ? metadata.genres.map((genre) => (\r\n                    <Link\r\n                      to={`/genres?genre=${genre}`}\r\n                      className=\"no_decoration_link\"\r\n                      key={guid()}\r\n                    >\r\n                      <Chip\r\n                        avatar={<Avatar>{genre.charAt(0)}</Avatar>}\r\n                        className=\"info__genre\"\r\n                        label={genre}\r\n                        variant=\"outlined\"\r\n                      />\r\n                    </Link>\r\n                  ))\r\n                : null}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <StarDialog\r\n          isOpen={this.state.openStarDialog}\r\n          handleClose={this.handleStarClose}\r\n          metadata={metadata}\r\n        />\r\n        <TrailerDialog\r\n          isOpen={this.state.openTrailerDialog}\r\n          handleClose={this.handleTrailerClose}\r\n          metadata={metadata}\r\n          trailer={trailer}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from \"react\";\r\n\r\nimport {Link} from \"react-router-dom\";\r\n\r\nimport {\r\n    Avatar,\r\n    Button,\r\n    Chip,\r\n    ClickAwayListener,\r\n    Dialog,\r\n    DialogTitle,\r\n    Divider,\r\n    IconButton,\r\n    Menu,\r\n    MenuItem,\r\n    Tooltip,\r\n    Typography,\r\n} from \"@material-ui/core\";\r\nimport {Rating} from \"@material-ui/lab\";\r\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\r\nimport ArrowForwardIcon from \"@material-ui/icons/ArrowForward\";\r\nimport StarIcon from \"@material-ui/icons/Star\";\r\nimport StarBorderIcon from \"@material-ui/icons/StarBorder\";\r\nimport SubtitlesOutlinedIcon from \"@material-ui/icons/SubtitlesOutlined\";\r\nimport YouTubeIcon from \"@material-ui/icons/YouTube\";\r\n\r\nimport DPlayer from \"libdrive-player\";\r\nimport {default as toWebVTT} from \"srt-webvtt\";\r\n\r\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\r\nimport \"@sweetalert2/theme-dark/dark.css\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport {\r\n    ChildrenMenu,\r\n    DownloadMenu,\r\n    guid,\r\n    PlayerMenu,\r\n    PlaylistMenu,\r\n    seo,\r\n    StarDialog,\r\n    theme,\r\n    TrailerDialog,\r\n} from \"../../../components\";\r\n\r\nexport class TVBView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ...props.state,\r\n      tooltipOpen: false,\r\n      tooltipOpen2: false,\r\n      trailer: {},\r\n    };\r\n    this.prettyDate = this.prettyDate.bind(this);\r\n    this.handleStar = this.handleStar.bind(this);\r\n    this.handleStarClose = this.handleStarClose.bind(this);\r\n    this.handleTrailer = this.handleTrailer.bind(this);\r\n    this.handleTrailerClose = this.handleTrailerClose.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    let { metadata, ui_config } = this.state;\r\n    let year = new Date().getFullYear();\r\n\r\n    seo({\r\n      title: `${ui_config.title || \"GBStream\"} - ${\r\n          metadata.title || metadata.name\r\n      } (${year}) - Espaol Latino Gratis`,\r\n      description: `Watch ${metadata.title || metadata.name} on ${\r\n          ui_config.title || \"GBStream\"\r\n      }!  ${metadata.overview}`,\r\n      image: metadata.backdropPath,\r\n      type: \"video.movie\",\r\n    });\r\n  }\r\n\r\n  prettyDate() {\r\n    let old_date = this.state.metadata.releaseDate;\r\n    let date_comp = old_date.split(\"-\");\r\n    let date = new Date(date_comp[0], date_comp[1], date_comp[2]);\r\n    return date.toDateString();\r\n  }\r\n\r\n  handleStar() {\r\n    this.setState({ openStarDialog: true });\r\n  }\r\n\r\n  handleStarClose(evt) {\r\n    if (evt == \"starred\") {\r\n      this.setState({ openStarDialog: false, starred: true });\r\n    } else if (evt == \"unstarred\") {\r\n      this.setState({\r\n        openStarDialog: false,\r\n        starred:\r\n          JSON.parse(window.localStorage.getItem(\"starred_lists\") || \"[]\").some(\r\n            (i) => i.children.some((x) => x.id == this.state.metadata.id)\r\n          ) || false,\r\n      });\r\n    } else {\r\n      this.setState({ openStarDialog: false });\r\n    }\r\n  }\r\n\r\n  handleTrailer() {\r\n    let { auth, metadata, server, trailer } = this.state;\r\n\r\n    if (!trailer.key) {\r\n      let req_path = `${server}/api/v1/trailer/${metadata.apiId}`;\r\n      let req_args = `?a=${auth}&t=tv&api=${metadata.api}`;\r\n\r\n      axios\r\n        .get(req_path + req_args)\r\n        .then((response) =>\r\n          this.setState({\r\n            openTrailerDialog: true,\r\n            trailer: response.data.content,\r\n          })\r\n        )\r\n        .catch((error) => {\r\n          console.error(error);\r\n          if (error.response) {\r\n            let data = error.response.data;\r\n            if (data.code === 401) {\r\n              Swal.fire({\r\n                title: \"Error!\",\r\n                text: data.message,\r\n                icon: \"error\",\r\n                confirmButtonText: \"Login\",\r\n                confirmButtonColor: theme.palette.success.main,\r\n              }).then((result) => {\r\n                if (result.isConfirmed) {\r\n                  this.props.history.push(\"/logout\");\r\n                }\r\n              });\r\n            } else if (!server) {\r\n              this.props.history.push(\"/logout\");\r\n            } else {\r\n              Swal.fire({\r\n                title: \"Error!\",\r\n                text: \"No trailer could be found.\",\r\n                icon: \"error\",\r\n                confirmButtonText: \"Ok\",\r\n                confirmButtonColor: theme.palette.success.main,\r\n              });\r\n            }\r\n          } else if (error.request) {\r\n            if (!server) {\r\n              this.props.history.push(\"/logout\");\r\n            } else {\r\n              Swal.fire({\r\n                title: \"Error!\",\r\n                text: \"Something went wrong while looking for trailers.\",\r\n                icon: \"error\",\r\n                confirmButtonText: \"Ok\",\r\n                confirmButtonColor: theme.palette.success.main,\r\n              });\r\n            }\r\n          }\r\n        });\r\n    } else {\r\n      this.setState({ openTrailerDialog: true });\r\n    }\r\n  }\r\n\r\n  handleTrailerClose() {\r\n    this.setState({ openTrailerDialog: false });\r\n  }\r\n\r\n  render() {\r\n    let { metadata, server, starred, tooltipOpen, tooltipOpen2, trailer } =\r\n      this.state;\r\n\r\n    return (\r\n      <div className=\"TVBView\">\r\n        <div className=\"info__container\">\r\n          <div className=\"info__left\">\r\n            <img\r\n              className=\"info__poster\"\r\n              src={\r\n                metadata.posterPath ||\r\n                `${server}/api/v1/image/poster?text=${metadata.title}&extention=jpeg`\r\n              }\r\n            />\r\n            <img\r\n              className=\"info__backdrop\"\r\n              src={\r\n                metadata.backdropPath ||\r\n                `${server}/api/v1/image/backdrop?text=${metadata.title}&extention=jpeg`\r\n              }\r\n            />\r\n          </div>\r\n          <div className=\"info__right\">\r\n            <ClickAwayListener\r\n              onClickAway={() => this.setState({ tooltipOpen: false })}\r\n            >\r\n              <Tooltip\r\n                title={\r\n                  <Typography variant=\"subtitle2\">{metadata.name}</Typography>\r\n                }\r\n                arrow\r\n                placement=\"top-start\"\r\n                open={tooltipOpen}\r\n                disableFocusListener\r\n                disableHoverListener\r\n                disableTouchListener\r\n                onClose={() => this.setState({ tooltipOpen: false })}\r\n                PopperProps={{\r\n                  disablePortal: true,\r\n                }}\r\n              >\r\n                <Typography\r\n                  onClick={() => this.setState({ tooltipOpen: true })}\r\n                  variant=\"h3\"\r\n                  style={{ fontWeight: \"bold\" }}\r\n                  className=\"info__title\"\r\n                >\r\n                  {metadata.title}\r\n                </Typography>\r\n              </Tooltip>\r\n            </ClickAwayListener>\r\n            <Typography\r\n              variant=\"body1\"\r\n              className=\"info__overview\"\r\n              style={{ marginTop: \"30px\" }}\r\n            >\r\n              {metadata.overview}\r\n            </Typography>\r\n            <div className=\"vote__container\">\r\n              <ClickAwayListener\r\n                onClickAway={() => this.setState({ tooltipOpen2: false })}\r\n              >\r\n                <Tooltip\r\n                  title={\r\n                    <Typography variant=\"subtitle2\">\r\n                      {metadata.voteAverage}/10\r\n                    </Typography>\r\n                  }\r\n                  arrow\r\n                  placement=\"right\"\r\n                  open={tooltipOpen2}\r\n                  disableFocusListener\r\n                  disableHoverListener\r\n                  disableTouchListener\r\n                  onClose={() => this.setState({ tooltipOpen2: false })}\r\n                  PopperProps={{\r\n                    disablePortal: true,\r\n                  }}\r\n                >\r\n                  <div onClick={() => this.setState({ tooltipOpen2: true })}>\r\n                    <Rating\r\n                      name=\"Rating\"\r\n                      value={metadata.voteAverage}\r\n                      max={10}\r\n                      readOnly\r\n                    />\r\n                  </div>\r\n                </Tooltip>\r\n              </ClickAwayListener>\r\n            </div>\r\n            <div className=\"info__release\">\r\n              <IconButton onClick={this.handleStar}>\r\n                {starred ? <StarIcon /> : <StarBorderIcon />}\r\n              </IconButton>\r\n              <Typography\r\n                style={{ display: \"flex\", alignItems: \"center\" }}\r\n                variant=\"body2\"\r\n              >\r\n                {metadata.language\r\n                  ? `${this.prettyDate()} (${metadata.language.toUpperCase()})`\r\n                  : this.prettyDate()}\r\n              </Typography>\r\n            </div>\r\n            <div className=\"info__buttons2\">\r\n              <ChildrenMenu state={this.state} />\r\n              <div className=\"info__button2\">\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  color=\"primary\"\r\n                  style={{ width: \"135px\" }}\r\n                  onClick={this.handleTrailer}\r\n                  startIcon={<YouTubeIcon />}\r\n                >\r\n                  Trailer\r\n                </Button>\r\n              </div>\r\n            </div>\r\n            <div className=\"info__genres\">\r\n              {metadata.genres && metadata.genres.length\r\n                ? metadata.genres.map((genre) => (\r\n                    <Link\r\n                      to={`/genres?genre=${genre}`}\r\n                      className=\"no_decoration_link\"\r\n                      key={guid()}\r\n                    >\r\n                      <Chip\r\n                        avatar={<Avatar>{genre.charAt(0)}</Avatar>}\r\n                        className=\"info__genre\"\r\n                        label={genre}\r\n                        variant=\"outlined\"\r\n                      />\r\n                    </Link>\r\n                  ))\r\n                : null}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <StarDialog\r\n          isOpen={this.state.openStarDialog}\r\n          handleClose={this.handleStarClose}\r\n          metadata={metadata}\r\n        />\r\n        <TrailerDialog\r\n          isOpen={this.state.openTrailerDialog}\r\n          handleClose={this.handleTrailerClose}\r\n          metadata={metadata}\r\n          trailer={trailer}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport class TVSView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { ...props.state, subtitleMenuAnchor: false };\r\n    this.onFileChange = this.onFileChange.bind(this);\r\n    this.handleSubtitleMenuOpen = this.handleSubtitleMenuOpen.bind(this);\r\n    this.handleSubtitleMenuClose = this.handleSubtitleMenuClose.bind(this);\r\n    this.handleClickImage = this.handleClickImage.bind(this);\r\n    this.handleCloseDialog = this.handleCloseDialog.bind(this);\r\n    this.handleParentSeason = this.handleParentSeason.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    let { metadata, q, ui_config } = this.state;\r\n\r\n    seo({\r\n      title: `${ui_config.title || \"GBStream\"} - ${metadata.children[q].name}`,\r\n      description: `Watch ${metadata.children[q].name} on ${\r\n        ui_config.title || \"GBStream\"\r\n      }!`,\r\n      type: \"video.episode\",\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    let { id, q, watching } = this.state;\r\n\r\n    watching[id] = q;\r\n\r\n    window.localStorage.setItem(\"watching\", JSON.stringify(watching));\r\n  }\r\n\r\n  async onFileChange(evt) {\r\n    if (evt.target.files.length) {\r\n      if (evt.target.files[0].name.endsWith(\".srt\")) {\r\n        const vtt = await toWebVTT(evt.target.files[0]);\r\n        this.setState({\r\n          file: vtt,\r\n          fileName: evt.target.files[0].name,\r\n          playerKey: guid(),\r\n        });\r\n      } else {\r\n        this.setState({\r\n          file: URL.createObjectURL(evt.target.files[0]),\r\n          playerKey: guid(),\r\n        });\r\n      }\r\n    } else {\r\n      this.setState({ file: null, playerKey: guid() });\r\n    }\r\n  }\r\n\r\n  handleSubtitleMenuOpen(evt) {\r\n    let { tracks } = this.state;\r\n\r\n    if (tracks.length) {\r\n      this.setState({\r\n        subtitleMenuAnchor: evt.currentTarget,\r\n      });\r\n    } else {\r\n      const subtitleButton = document.getElementById(\"file-input-button\");\r\n      subtitleButton.click();\r\n    }\r\n  }\r\n\r\n  handleSubtitleMenuClose() {\r\n    this.setState({\r\n      subtitleMenuAnchor: false,\r\n    });\r\n  }\r\n\r\n  handleClickImage(url) {\r\n    this.setState({ image_url: url });\r\n  }\r\n\r\n  handleCloseDialog() {\r\n    this.setState({ image_url: null });\r\n  }\r\n\r\n  handleParentSeason(next) {\r\n    let { metadata, parent_index } = this.state;\r\n\r\n    if (next) {\r\n      if (metadata.parent_children[parent_index + 1]) {\r\n        this.props.history.push(\r\n          `/view/ts/${metadata.parent_children[parent_index + 1].id}`\r\n        );\r\n      }\r\n    } else {\r\n      if (metadata.parent_children[parent_index - 1]) {\r\n        this.props.history.push(\r\n          `/view/ts/${metadata.parent_children[parent_index - 1].id}`\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let {\r\n      default_track,\r\n      default_video,\r\n      file,\r\n      fileName,\r\n      image_url,\r\n      metadata,\r\n      parent_index,\r\n      playerKey,\r\n      q,\r\n      server,\r\n      videos,\r\n      tracks,\r\n      subtitleMenuAnchor,\r\n    } = this.state;\r\n\r\n    if (file) {\r\n      tracks = [{ name: fileName, url: file }];\r\n    }\r\n\r\n    function isHash(n, hash) {\r\n      if (n === hash) {\r\n        return \"pls-playing\";\r\n      } else {\r\n        return \"\";\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div className=\"TVSView\">\r\n        <Dialog\r\n          onClose={this.handleCloseDialog}\r\n          aria-labelledby=\"img-dialog\"\r\n          open={image_url ? true : false}\r\n        >\r\n          <DialogTitle id=\"img-dialog\">Thumbnail</DialogTitle>\r\n          <img src={image_url} style={{ padding: \"25px\" }} />\r\n        </Dialog>\r\n        <div className=\"plyr__component\">\r\n          <DPlayer\r\n            key={playerKey}\r\n            style={{\r\n              borderRadius: \"12px 12px 0 0\",\r\n              borderWidth: \"4px 4px 0 4px\",\r\n              borderColor: \"black\",\r\n              borderStyle: \"solid\",\r\n            }}\r\n            options={{\r\n              video: {\r\n                quality: videos,\r\n                defaultQuality: default_video,\r\n                pic: `${server}/api/v1/image/thumbnail?id=${metadata.children[q].id}`,\r\n              },\r\n              subtitle: tracks[default_track],\r\n              preload: \"auto\",\r\n              theme: theme.palette.primary.main,\r\n              contextmenu: [\r\n                {\r\n                  text: \"GBStream\",\r\n                  link: \"https://github.com/libDrive/libDrive\",\r\n                },\r\n              ],\r\n              screenshot: true,\r\n              volume: 1,\r\n              lang: \"en\",\r\n            }}\r\n          />\r\n          <div className=\"plyr-playlist-wrapper\">\r\n            <ul className=\"plyr-playlist\">\r\n              {metadata.children.length\r\n                ? metadata.children.map((child, n) => (\r\n                    <li className={isHash(n, q)} key={n}>\r\n                      <div>\r\n                        <img\r\n                          onClick={() =>\r\n                            this.handleClickImage(\r\n                              `${server}/api/v1/image/thumbnail?id=${child.id}`\r\n                            )\r\n                          }\r\n                          onError={(e) => (e.target.style = \"display: none;\")}\r\n                          src={`${server}/api/v1/image/thumbnail?id=${child.id}`}\r\n                          className=\"plyr-miniposter\"\r\n                        />\r\n                        <Link\r\n                          to={{\r\n                            pathname: window.location.pathname,\r\n                            search: `?q=${n}`,\r\n                          }}\r\n                          className=\"plyr-miniposter-link\"\r\n                          key={guid()}\r\n                        >\r\n                          <div>{child.name}</div>\r\n                        </Link>\r\n                      </div>\r\n                    </li>\r\n                  ))\r\n                : null}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"file__info\"\r\n          style={{ background: theme.palette.background.paper }}\r\n        >\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              width: \"100%\",\r\n              justifyContent: \"space-between\",\r\n            }}\r\n          >\r\n            {metadata.parent_children[parent_index - 1] ? (\r\n              <Tooltip\r\n                title={\r\n                  metadata.parent_children[parent_index - 1]\r\n                    ? metadata.parent_children[parent_index - 1].name\r\n                    : null\r\n                }\r\n                placement=\"left\"\r\n              >\r\n                <IconButton\r\n                  onClick={() => this.handleParentSeason(false)}\r\n                  style={{ justifySelf: \"flex-start\", marginLeft: \"5px\" }}\r\n                >\r\n                  <ArrowBackIcon />\r\n                </IconButton>\r\n              </Tooltip>\r\n            ) : (\r\n              <div\r\n                className=\"MuiIconButton-root MuiButtonBase-root\"\r\n                style={{ justifySelf: \"flex-end\", marginLeft: \"5px\" }}\r\n              >\r\n                <ArrowBackIcon color=\"disabled\" />\r\n              </div>\r\n            )}\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                alignContent: \"center\",\r\n                justifyContent: \"center\",\r\n                flexWrap: \"wrap\",\r\n                margin: \"20px 5px 20px 5px\",\r\n              }}\r\n            >\r\n              <PlayerMenu\r\n                state={{\r\n                  ...this.state,\r\n                  id: metadata.children[q].id,\r\n                  metadata: metadata.children[q],\r\n                }}\r\n              />\r\n              <DownloadMenu state={this.state} tv={true} />\r\n              <PlaylistMenu state={this.state} />\r\n              <div className=\"info__button\">\r\n                <input\r\n                  id=\"file-input\"\r\n                  hidden\r\n                  onChange={this.onFileChange}\r\n                  type=\"file\"\r\n                  accept=\".vtt,.srt\"\r\n                />\r\n                <Button\r\n                  color=\"primary\"\r\n                  variant=\"outlined\"\r\n                  style={{ width: \"135px\" }}\r\n                  component=\"span\"\r\n                  aria-controls=\"subtitles-menu\"\r\n                  startIcon={<SubtitlesOutlinedIcon />}\r\n                  onClick={this.handleSubtitleMenuOpen}\r\n                >\r\n                  Subtitle\r\n                </Button>\r\n                <Menu\r\n                  id=\"subtitles-menu\"\r\n                  anchorEl={subtitleMenuAnchor}\r\n                  keepMounted\r\n                  anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n                  transformOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n                  open={Boolean(subtitleMenuAnchor)}\r\n                  onClose={this.handleSubtitleMenuClose}\r\n                >\r\n                  {tracks.length ? (\r\n                    <div>\r\n                      {tracks.map((track) => (\r\n                        <a className=\"no_decoration_link\" href={track.url}>\r\n                          <MenuItem onClick={this.handleSubtitleMenuClose}>\r\n                            {track.name}\r\n                          </MenuItem>\r\n                        </a>\r\n                      ))}\r\n                      <Divider />\r\n                    </div>\r\n                  ) : null}\r\n                  <MenuItem\r\n                    onClick={() => {\r\n                      document.getElementById(\"file-input-button\").click();\r\n                      this.setState({ subtitleMenuAnchor: false });\r\n                    }}\r\n                  >\r\n                    Upload\r\n                  </MenuItem>\r\n                </Menu>\r\n                <label htmlFor=\"file-input\" id=\"file-input-button\" />\r\n              </div>\r\n            </div>\r\n            {metadata.parent_children[parent_index + 1] ? (\r\n              <Tooltip\r\n                title={\r\n                  metadata.parent_children[parent_index + 1]\r\n                    ? metadata.parent_children[parent_index + 1].name\r\n                    : null\r\n                }\r\n                placement=\"right\"\r\n              >\r\n                <IconButton\r\n                  onClick={() => this.handleParentSeason(true)}\r\n                  style={{ justifySelf: \"flex-end\", marginRight: \"5px\" }}\r\n                >\r\n                  <ArrowForwardIcon />\r\n                </IconButton>\r\n              </Tooltip>\r\n            ) : (\r\n              <div\r\n                className=\"MuiIconButton-root MuiButtonBase-root\"\r\n                style={{ justifySelf: \"flex-end\", marginRight: \"5px\" }}\r\n              >\r\n                <ArrowForwardIcon color=\"disabled\" />\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from \"react\";\r\n\r\nimport {CircularProgress} from \"@material-ui/core\";\r\n\r\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\r\nimport \"@sweetalert2/theme-dark/dark.css\";\r\n\r\nimport axios from \"axios\";\r\nimport queryString from \"query-string\";\r\n\r\nimport {Footer, guid, Nav, seo, theme} from \"../../components\";\r\nimport MovieView from \"./MovieView\";\r\nimport {TVBView, TVSView} from \"./TVView\";\r\nimport \"./index.css\";\r\n\r\nexport default class View extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      auth:\r\n        window.sessionStorage.getItem(\"auth\") ||\r\n        window.localStorage.getItem(\"auth\") ||\r\n        \"0\",\r\n      id: this.props.match.params.id,\r\n      isAndroid: /(android)/i.test(\r\n        navigator.userAgent || navigator.vendor || window.opera\r\n      ),\r\n      isIOS:\r\n        /iPad|iPhone|iPod/.test(\r\n          navigator.userAgent || navigator.vendor || window.opera\r\n        ) && !window.MSStream,\r\n      isLoaded: false,\r\n      metadata: {},\r\n      openStarDialog: false,\r\n      playerKey: guid(),\r\n      q:\r\n        queryString.parse(this.props.location.search).q ||\r\n        JSON.parse(window.localStorage.getItem(\"watching\") || \"{}\")[\r\n          this.props.match.params.id\r\n        ] ||\r\n        0,\r\n      server:\r\n        window.sessionStorage.getItem(\"server\") ||\r\n        window.localStorage.getItem(\"server\") ||\r\n        window.location.origin,\r\n      videos: [],\r\n      starred:\r\n        JSON.parse(window.localStorage.getItem(\"starred_lists\") || \"[]\").some(\r\n          (i) => i.children.some((x) => x.id == this.props.match.params.id)\r\n        ) || false,\r\n      tracks: [{ name: null, url: null }],\r\n      type: this.props.type,\r\n      ui_config: JSON.parse(\r\n        window.localStorage.getItem(\"ui_config\") ||\r\n          window.sessionStorage.getItem(\"ui_config\") ||\r\n          \"{}\"\r\n      ),\r\n      watching: JSON.parse(window.localStorage.getItem(\"watching\") || \"{}\"),\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let { auth, id, q, server, type } = this.state;\r\n    q = parseInt(q);\r\n\r\n    if (!auth || !server) {\r\n      this.props.history.push(\"/logout\");\r\n    }\r\n\r\n    document.documentElement.style.setProperty(\r\n      \"--plyr-color-main\",\r\n      theme.palette.primary.main\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--plyr-video-background\",\r\n      theme.palette.background.default\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--plyr-menu-background\",\r\n      theme.palette.background.paper\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--plyr-menu-color\",\r\n      theme.palette.text.primary\r\n    );\r\n\r\n    let req_path = `${server}/api/v1/metadata`;\r\n    let req_args = `?a=${auth}&id=${encodeURIComponent(id)}`;\r\n\r\n    var response1 = await axios.get(req_path + req_args).catch((error) => {\r\n      console.error(error);\r\n      if (error.response) {\r\n        let data = error.response.data;\r\n        if (data.code === 401) {\r\n          Swal.fire({\r\n            title: \"Error!\",\r\n            text: data.message,\r\n            icon: \"error\",\r\n            confirmButtonText: \"Login\",\r\n            confirmButtonColor: theme.palette.success.main,\r\n          }).then((result) => {\r\n            if (result.isConfirmed) {\r\n              this.props.history.push(\"/logout\");\r\n            }\r\n          });\r\n        } else if (!server) {\r\n          this.props.history.push(\"/logout\");\r\n        } else {\r\n          Swal.fire({\r\n            title: \"Error!\",\r\n            text: `Something went wrong while communicating with the server! Is '${server}' the correct address?`,\r\n            icon: \"error\",\r\n            confirmButtonText: \"Logout\",\r\n            confirmButtonColor: theme.palette.success.main,\r\n            cancelButtonText: \"Retry\",\r\n            cancelButtonColor: theme.palette.error.main,\r\n            showCancelButton: true,\r\n          }).then((result) => {\r\n            if (result.isConfirmed) {\r\n              this.props.history.push(\"/logout\");\r\n            } else if (result.isDismissed) {\r\n              location.reload();\r\n            }\r\n          });\r\n        }\r\n      } else if (error.request) {\r\n        if (!server) {\r\n          this.props.history.push(\"/logout\");\r\n        } else {\r\n          Swal.fire({\r\n            title: \"Error!\",\r\n            text: `libDrive could not communicate with the server! Is '${server}' the correct address?`,\r\n            icon: \"error\",\r\n            confirmButtonText: \"Logout\",\r\n            confirmButtonColor: theme.palette.success.main,\r\n            cancelButtonText: \"Retry\",\r\n            cancelButtonColor: theme.palette.error.main,\r\n            showCancelButton: true,\r\n          }).then((result) => {\r\n            if (result.isConfirmed) {\r\n              this.props.history.push(\"/logout\");\r\n            } else if (result.isDismissed) {\r\n              location.reload();\r\n            }\r\n          });\r\n        }\r\n      }\r\n    });\r\n\r\n    var metadata = response1.data.content;\r\n    var response2;\r\n\r\n    if (type == \"m\") {\r\n      let req_path = `${server}/api/v1/streammap`;\r\n      let req_args = `?a=${auth}&id=${encodeURIComponent(id)}&parent=${\r\n        metadata.parents[0]\r\n      }&name=${encodeURIComponent(metadata.name)}&t=${\r\n        metadata.type\r\n      }&server=${encodeURIComponent(server)}`;\r\n\r\n      response2 = await axios.get(req_path + req_args).catch((error) => {\r\n        console.error(error);\r\n        if (error.response) {\r\n          let data = error.response.data;\r\n          if (data.code === 401) {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: data.message,\r\n              icon: \"error\",\r\n              confirmButtonText: \"Login\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              }\r\n            });\r\n          } else if (!server) {\r\n            this.props.history.push(\"/logout\");\r\n          } else {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: `Something went wrong while communicating with the server! Is '${server}' the correct address?`,\r\n              icon: \"error\",\r\n              confirmButtonText: \"Logout\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n              cancelButtonText: \"Retry\",\r\n              cancelButtonColor: theme.palette.error.main,\r\n              showCancelButton: true,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              } else if (result.isDismissed) {\r\n                location.reload();\r\n              }\r\n            });\r\n          }\r\n        } else if (error.request) {\r\n          if (!server) {\r\n            this.props.history.push(\"/logout\");\r\n          } else {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: `libDrive could not communicate with the server! Is '${server}' the correct address?`,\r\n              icon: \"error\",\r\n              confirmButtonText: \"Logout\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n              cancelButtonText: \"Retry\",\r\n              cancelButtonColor: theme.palette.error.main,\r\n              showCancelButton: true,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              } else if (result.isDismissed) {\r\n                location.reload();\r\n              }\r\n            });\r\n          }\r\n        }\r\n      });\r\n    } else if (type == \"ts\") {\r\n      if (metadata.children.length && metadata.children[q]) {\r\n        let req_path = `${server}/api/v1/streammap`;\r\n        let req_args = `?a=${auth}&id=${encodeURIComponent(\r\n          metadata.children[q].id\r\n        )}&parent=${id}&name=${encodeURIComponent(\r\n          metadata.children[q].name\r\n        )}&t=${metadata.children[q].type}&server=${encodeURIComponent(server)}`;\r\n\r\n        response2 = await axios.get(req_path + req_args).catch((error) => {\r\n          console.error(error);\r\n          if (error.response) {\r\n            let data = error.response.data;\r\n            if (data.code === 401) {\r\n              Swal.fire({\r\n                title: \"Error!\",\r\n                text: data.message,\r\n                icon: \"error\",\r\n                confirmButtonText: \"Login\",\r\n                confirmButtonColor: theme.palette.success.main,\r\n              }).then((result) => {\r\n                if (result.isConfirmed) {\r\n                  this.props.history.push(\"/logout\");\r\n                }\r\n              });\r\n            } else if (!server) {\r\n              this.props.history.push(\"/logout\");\r\n            } else {\r\n              Swal.fire({\r\n                title: \"Error!\",\r\n                text: `Something went wrong while communicating with the server! Is '${server}' the correct address?`,\r\n                icon: \"error\",\r\n                confirmButtonText: \"Logout\",\r\n                confirmButtonColor: theme.palette.success.main,\r\n                cancelButtonText: \"Retry\",\r\n                cancelButtonColor: theme.palette.error.main,\r\n                showCancelButton: true,\r\n              }).then((result) => {\r\n                if (result.isConfirmed) {\r\n                  this.props.history.push(\"/logout\");\r\n                } else if (result.isDismissed) {\r\n                  location.reload();\r\n                }\r\n              });\r\n            }\r\n          } else if (error.request) {\r\n            if (!server) {\r\n              this.props.history.push(\"/logout\");\r\n            } else {\r\n              Swal.fire({\r\n                title: \"Error!\",\r\n                text: `libDrive could not communicate with the server! Is '${server}' the correct address?`,\r\n                icon: \"error\",\r\n                confirmButtonText: \"Logout\",\r\n                confirmButtonColor: theme.palette.success.main,\r\n                cancelButtonText: \"Retry\",\r\n                cancelButtonColor: theme.palette.error.main,\r\n                showCancelButton: true,\r\n              }).then((result) => {\r\n                if (result.isConfirmed) {\r\n                  this.props.history.push(\"/logout\");\r\n                } else if (result.isDismissed) {\r\n                  location.reload();\r\n                }\r\n              });\r\n            }\r\n          }\r\n        });\r\n      } else {\r\n        response2 = {\r\n          data: { content: { default_video: 0, videos: [], subtitles: [] } },\r\n        };\r\n      }\r\n    }\r\n\r\n    var parent_index;\r\n    if (metadata.parent_children) {\r\n      for (let i = 0; i < metadata.parent_children.length; i++) {\r\n        if (metadata.parent_children[i].id == id) {\r\n          parent_index = i;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (type == \"m\" || type == \"ts\") {\r\n      this.setState({\r\n        default_track: response2.data.content.default_track,\r\n        default_video: response2.data.content.default_video,\r\n        isLoaded: true,\r\n        metadata: response1.data.content,\r\n        parent_index: parent_index,\r\n        q: q,\r\n        type: type,\r\n        videos: response2.data.content.videos,\r\n        tracks: response2.data.content.tracks,\r\n      });\r\n    } else {\r\n      this.setState({\r\n        isLoaded: true,\r\n        metadata: response1.data.content,\r\n        type: type,\r\n      });\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    seo();\r\n  }\r\n\r\n  render() {\r\n    let { isLoaded, metadata, ui_config } = this.state;\r\n\r\n    if (isLoaded) {\r\n      seo({\r\n        title: metadata.title\r\n          ? `${ui_config.title || \"GBStream\"} - ${metadata.title}`\r\n          : ui_config.title || \"GBStream\",\r\n        description: `Watch ${metadata.title || metadata.name} on ${\r\n          ui_config.title || \"GBStream\"\r\n        }!`,\r\n        image: metadata.backdropPath,\r\n      });\r\n    }\r\n\r\n    return isLoaded && metadata.type == \"file\" ? (\r\n      <div className=\"View\">\r\n        <Nav {...this.props} />\r\n        <MovieView state={this.state} />\r\n        <Footer />\r\n      </div>\r\n    ) : isLoaded && metadata.type == \"directory\" && metadata.title ? (\r\n      <div className=\"View\">\r\n        <Nav {...this.props} />\r\n        <TVBView state={this.state} />\r\n        <Footer />\r\n      </div>\r\n    ) : isLoaded && metadata.type == \"directory\" ? (\r\n      <div className=\"View\">\r\n        <Nav {...this.props} />\r\n        <TVSView state={this.state} history={this.props.history} />\r\n        <Footer />\r\n      </div>\r\n    ) : (\r\n      <div className=\"Loading\">\r\n        <CircularProgress />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport {BrowserRouter, Route, Switch} from \"react-router-dom\";\r\n\r\nimport {CssBaseline} from \"@material-ui/core\";\r\nimport {ThemeProvider} from \"@material-ui/core/styles\";\r\n\r\nimport {\r\n  App,\r\n  Browse,\r\n  CategoryBrowse,\r\n  Genres,\r\n  guid,\r\n  Login,\r\n  Logout,\r\n  NotFound,\r\n  Search,\r\n  Settings,\r\n  SettingsLoginForm,\r\n  StarredLists,\r\n  theme,\r\n  View,\r\n} from \"./components\";\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <ThemeProvider theme={theme}>\r\n      <CssBaseline />\r\n      <Switch>\r\n        <Route\r\n          exact\r\n          path={\"/\"}\r\n          render={(props) => <App key={guid()} {...props} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path={\"/browse\"}\r\n          render={(props) => <Browse key={guid()} {...props} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path={\"/browse/:category\"}\r\n          render={(props) => <CategoryBrowse key={guid()} {...props} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path={\"/starred\"}\r\n          render={(props) => <StarredLists key={guid()} {...props} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path={\"/genres\"}\r\n          render={(props) => <Genres key={guid()} {...props} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path={\"/login\"}\r\n          render={(props) => <Login key={guid()} {...props} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path={\"/logout\"}\r\n          render={(props) => <Logout key={guid()} {...props} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path={\"/search/:q\"}\r\n          render={(props) => <Search key={guid()} {...props} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path={\"/settings\"}\r\n          render={(props) => <Settings key={guid()} {...props} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path={\"/settings/login\"}\r\n          render={(props) => <SettingsLoginForm key={guid()} {...props} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path={\"/view/m/:id\"}\r\n          render={(props) => <View key={guid()} type={\"m\"} {...props} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path={\"/view/tb/:id\"}\r\n          render={(props) => <View key={guid()} type={\"tb\"} {...props} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path={\"/view/ts/:id\"}\r\n          render={(props) => <View key={guid()} type={\"ts\"} {...props} />}\r\n        />\r\n        <Route\r\n          path={\"\"}\r\n          render={(props) => <NotFound key={guid()} {...props} />}\r\n        />\r\n      </Switch>\r\n    </ThemeProvider>\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}